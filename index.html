<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CodeMaster - Plateforme d'apprentissage informatique</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #10b981;
            --accent: #f59e0b;
            --danger: #ef4444;
            --success: #10b981;
            --warning: #f59e0b;
            --info: #3b82f6;
            --bg-primary: #0f172a;
            --bg-secondary: #1e293b;
            --bg-tertiary: #334155;
            --text-primary: #f8fafc;
            --text-secondary: #cbd5e1;
            --text-muted: #64748b;
            --border: #334155;
            --glass-bg: rgba(30, 41, 59, 0.9);
            --glass-border: rgba(99, 102, 241, 0.3);
            --shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.4);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, var(--bg-primary) 0%, #1a2332 50%, #0f172a 100%);
            color: var(--text-primary);
            line-height: 1.6;
            overflow-x: hidden;
            min-height: 100vh;
        }

        /* Animations */
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes flameGain {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
            50% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(1) translateY(-100px); }
        }

        @keyframes starGain {
            0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5) rotate(0deg); }
            50% { opacity: 1; transform: translate(-50%, -50%) scale(1.2) rotate(180deg); }
            100% { opacity: 0; transform: translate(-50%, -50%) scale(1) rotate(360deg) translateY(-100px); }
        }

        .animated { animation: fadeInUp 0.8s ease forwards; }
        .pulse { animation: pulse 2s ease-in-out infinite; }

        /* Header */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(15, 23, 42, 0.95);
            backdrop-filter: blur(20px);
            border-bottom: 1px solid var(--glass-border);
            z-index: 1000;
            padding: 1rem 0;
            transition: all 0.3s ease;
        }

        .header.scrolled {
            background: rgba(15, 23, 42, 0.98);
            box-shadow: var(--shadow);
        }

        .header-content {
            max-width: 1400px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0 2rem;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 1.8rem;
            font-weight: 800;
            cursor: pointer;
            transition: transform 0.3s ease;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .logo:hover { transform: scale(1.05); }

        .nav-menu {
            display: flex;
            gap: 2rem;
            list-style: none;
        }

        .nav-item a {
            color: var(--text-secondary);
            text-decoration: none;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            transition: all 0.3s ease;
        }

        .nav-item a:hover,
        .nav-item a.active {
            color: var(--text-primary);
            background: rgba(99, 102, 241, 0.1);
        }

        .nav-buttons {
            display: flex;
            gap: 1rem;
            align-items: center;
            flex-wrap: wrap;
        }

        .btn {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            position: relative;
            overflow: hidden;
            white-space: nowrap;
        }

        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .btn:hover::before { left: 100%; }

        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            box-shadow: 0 4px 15px rgba(99, 102, 241, 0.4);
        }

        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(99, 102, 241, 0.6);
        }

        .btn-outline {
            background: transparent;
            border: 2px solid var(--primary);
            color: var(--primary);
        }

        .btn-outline:hover {
            background: var(--primary);
            color: white;
        }

        .btn-success {
            background: linear-gradient(135deg, var(--success), #059669);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(135deg, var(--danger), #dc2626);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(135deg, var(--warning), #d97706);
            color: white;
        }

        .btn-info {
            background: linear-gradient(135deg, var(--info), #2563eb);
            color: white;
        }

        .btn-small {
            padding: 0.5rem 1rem;
            font-size: 0.875rem;
        }

        /* Mobile menu */
        .mobile-menu-btn {
            display: none;
            background: none;
            border: none;
            color: var(--text-primary);
            font-size: 1.5rem;
            cursor: pointer;
            padding: 0.5rem;
        }

        /* Main Content */
        .main-content {
            margin-top: 90px;
            min-height: calc(100vh - 200px);
        }

        .section {
            padding: 4rem 2rem;
            max-width: 1400px;
            margin: 0 auto;
        }

        .hidden { display: none !important; }

        /* Hero Section */
        .hero {
            text-align: center;
            padding: 8rem 2rem;
            position: relative;
            background: radial-gradient(circle at 50% 50%, rgba(99, 102, 241, 0.1) 0%, transparent 70%);
        }

        .hero-title {
            font-size: clamp(2.5rem, 5vw, 4.5rem);
            font-weight: 800;
            margin-bottom: 1.5rem;
            background: linear-gradient(135deg, var(--text-primary), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .hero-subtitle {
            font-size: clamp(1.1rem, 2vw, 1.5rem);
            color: var(--text-secondary);
            margin-bottom: 3rem;
            max-width: 700px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.8;
        }

        .hero-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            margin-bottom: 4rem;
            flex-wrap: wrap;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 2rem;
            margin-top: 4rem;
        }

        .stat-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 2rem;
            backdrop-filter: blur(20px);
            text-align: center;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .stat-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }

        .stat-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }

        .stat-number {
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 800;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }

        .stat-label {
            color: var(--text-secondary);
            font-weight: 500;
        }

        /* Dashboard */
        .dashboard {
            padding: 2rem 0;
        }

        .dashboard-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 3rem;
            flex-wrap: wrap;
            gap: 1rem;
        }

        .dashboard-title {
            font-size: clamp(2rem, 4vw, 3rem);
            font-weight: 800;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .dashboard-subtitle {
            color: var(--text-secondary);
            margin-top: 0.5rem;
            font-size: 1.1rem;
        }

        .dashboard-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }

        .dashboard-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 2rem;
            backdrop-filter: blur(20px);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dashboard-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
        }

        .dashboard-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow);
        }

        .card-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .card-icon {
            width: 60px;
            height: 60px;
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
        }

        .icon-primary { background: rgba(99, 102, 241, 0.2); color: var(--primary); }
        .icon-success { background: rgba(16, 185, 129, 0.2); color: var(--success); }
        .icon-warning { background: rgba(245, 158, 11, 0.2); color: var(--warning); }
        .icon-danger { background: rgba(239, 68, 68, 0.2); color: var(--danger); }
        .icon-info { background: rgba(59, 130, 246, 0.2); color: var(--info); }

        .card-title {
            font-size: 1.25rem;
            font-weight: 700;
            color: var(--text-primary);
        }

        .card-subtitle {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        /* Forms */
        .form-container {
            max-width: 600px;
            margin: 0 auto;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 2.5rem;
            backdrop-filter: blur(20px);
            box-shadow: var(--shadow);
        }

        .form-title {
            text-align: center;
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 2rem;
            color: var(--text-primary);
        }

        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-label {
            display: block;
            margin-bottom: 0.5rem;
            font-weight: 600;
            color: var(--text-primary);
        }

        .form-input, .form-select, .form-textarea {
            width: 100%;
            padding: 1rem;
            border: 2px solid var(--border);
            border-radius: 8px;
            background: var(--bg-secondary);
            color: var(--text-primary);
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-select:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.1);
        }

        /* Content Management */
        .content-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }

        .content-card {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 1.5rem;
            backdrop-filter: blur(20px);
            transition: all 0.3s ease;
            position: relative;
        }

        .content-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 6px;
            height: 100%;
            background: linear-gradient(135deg, var(--primary), var(--secondary));
            border-radius: 12px 0 0 12px;
        }

        .content-card.video::before { background: linear-gradient(135deg, var(--danger), #dc2626); }
        .content-card.document::before { background: linear-gradient(135deg, var(--info), #2563eb); }
        .content-card.ebook::before { background: linear-gradient(135deg, var(--success), #059669); }

        .content-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.3);
        }

        .content-title {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }

        .content-description {
            color: var(--text-secondary);
            margin-bottom: 1rem;
            line-height: 1.6;
        }

        .content-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            font-size: 0.9rem;
            color: var(--text-muted);
            margin-bottom: 1rem;
        }

        /* Quiz Styles */
        .quiz-container {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 2rem;
            backdrop-filter: blur(20px);
            margin-top: 2rem;
        }

        .question {
            background: var(--bg-secondary);
            border-radius: 12px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
        }

        .question-text {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 1rem;
        }

        .options {
            display: grid;
            gap: 0.75rem;
        }

        .option {
            background: var(--bg-tertiary);
            border: 2px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .option:hover {
            border-color: var(--primary);
        }

        .option.selected {
            border-color: var(--primary);
            background: rgba(99, 102, 241, 0.1);
        }

        .option.correct {
            border-color: var(--success);
            background: rgba(16, 185, 129, 0.1);
        }

        .option.incorrect {
            border-color: var(--danger);
            background: rgba(239, 68, 68, 0.1);
        }

        /* Content Viewer */
        .content-viewer {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 2rem;
            backdrop-filter: blur(20px);
            margin-top: 2rem;
        }

        .video-container {
            position: relative;
            width: 100%;
            height: 0;
            padding-bottom: 56.25%; /* 16:9 aspect ratio */
            margin-bottom: 2rem;
        }

        .video-container iframe {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            border-radius: 12px;
        }

        .document-container {
            width: 100%;
            height: 600px;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .document-container iframe {
            width: 100%;
            height: 100%;
            border: none;
        }

        /* Tables */
        .table-container {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            overflow: hidden;
            backdrop-filter: blur(20px);
            overflow-x: auto;
        }

        .data-table {
            width: 100%;
            border-collapse: collapse;
            min-width: 800px;
        }

        .data-table thead {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
        }

        .data-table th, .data-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid var(--border);
        }

        .data-table th {
            color: white;
            font-weight: 700;
            font-size: 0.9rem;
            text-transform: uppercase;
        }

        .data-table tr:hover {
            background: rgba(99, 102, 241, 0.05);
        }

        /* Status badges */
        .status-badge {
            padding: 0.5rem 1rem;
            border-radius: 20px;
            font-size: 0.85rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-active { background: rgba(16, 185, 129, 0.2); color: var(--success); border: 1px solid var(--success); }
        .status-pending { background: rgba(245, 158, 11, 0.2); color: var(--warning); border: 1px solid var(--warning); }
        .status-rejected { background: rgba(239, 68, 68, 0.2); color: var(--danger); border: 1px solid var(--danger); }
        .status-free { background: rgba(100, 116, 139, 0.2); color: var(--text-muted); border: 1px solid var(--text-muted); }

        .type-course { background: rgba(99, 102, 241, 0.2); color: var(--primary); }
        .type-ebook { background: rgba(16, 185, 129, 0.2); color: var(--success); }
        .type-video { background: rgba(239, 68, 68, 0.2); color: var(--danger); }
        .type-document { background: rgba(59, 130, 246, 0.2); color: var(--info); }

        /* Modals */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 1002;
            justify-content: center;
            align-items: center;
            padding: 2rem;
        }

        .modal.show { display: flex; }

        .modal-content {
            background: var(--bg-secondary);
            border-radius: 16px;
            padding: 2rem;
            max-width: 700px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            border: 1px solid var(--glass-border);
        }

        /* Notifications */
        .notification {
            position: fixed;
            top: 110px;
            right: 2rem;
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            border-radius: 12px;
            padding: 1rem 1.5rem;
            backdrop-filter: blur(20px);
            z-index: 1001;
            min-width: 350px;
            transform: translateX(400px);
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
        }

        .notification.show { transform: translateX(0); }
        .notification-success { border-left: 4px solid var(--success); }
        .notification-error { border-left: 4px solid var(--danger); }
        .notification-warning { border-left: 4px solid var(--warning); }
        .notification-info { border-left: 4px solid var(--info); }

        /* Exercise Builder */
        .exercise-item {
            background: var(--bg-tertiary);
            border: 1px solid var(--border);
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
        }

        .exercise-options {
            display: grid;
            gap: 0.5rem;
            margin-top: 0.5rem;
        }

        .exercise-option-input {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        /* Chatbot Styles */
        .bot-message, .user-message {
            animation: fadeInUp 0.5s ease;
        }

        .user-message {
            align-self: flex-end;
        }

        .user-message > div {
            background: linear-gradient(135deg, var(--primary), var(--primary-dark));
            color: white;
            border-radius: 12px;
            padding: 1rem;
            max-width: 80%;
        }

        .bot-message > div {
            background: rgba(99, 102, 241, 0.1);
            border-radius: 12px;
            padding: 1rem;
            max-width: 80%;
        }

        .contact-admin-message {
            background: linear-gradient(135deg, var(--warning), #d97706) !important;
            color: white !important;
        }

        /* Flames and Stars Animation */
        .flame-gain, .star-gain {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-size: 3rem;
            z-index: 1003;
            pointer-events: none;
        }

        .flame-gain { animation: flameGain 2s ease forwards; }
        .star-gain { animation: starGain 2s ease forwards; }

        .flame-counter {
            position: fixed;
            top: 120px;
            left: 2rem;
            background: linear-gradient(135deg, #ff6b35, #f7931e);
            color: white;
            padding: 1rem 1.5rem;
            border-radius: 50px;
            font-weight: bold;
            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.4);
            z-index: 999;
            transition: all 0.3s ease;
        }

        .flame-counter:hover {
            transform: scale(1.1);
        }

        /* Loading */
        .loading {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
        }

        .loading.show { display: flex; }

        .loading-spinner {
            font-size: 3rem;
            color: var(--primary);
            animation: spin 1s linear infinite;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .header-content {
                padding: 0 1rem;
                flex-wrap: wrap;
            }

            .nav-menu {
                display: none;
                position: absolute;
                top: 100%;
                left: 0;
                right: 0;
                background: var(--bg-secondary);
                flex-direction: column;
                padding: 1rem;
                border-top: 1px solid var(--border);
                box-shadow: var(--shadow);
            }

            .nav-menu.active { display: flex; }
            .mobile-menu-btn { display: block; }

            .section { padding: 2rem 1rem; }
            .dashboard-grid { grid-template-columns: 1fr; }
            .content-grid { grid-template-columns: 1fr; }
            .hero-buttons { flex-direction: column; align-items: center; }
            
            .form-container {
                margin: 1rem;
                padding: 2rem;
            }

            .dashboard-header {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }

            .stats-grid {
                grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
                gap: 1rem;
            }

            .nav-buttons {
                gap: 0.5rem;
            }

            .nav-buttons span {
                display: none;
            }

            .flame-counter {
                left: 1rem;
                font-size: 0.9rem;
                padding: 0.75rem 1rem;
            }
        }

        @media (max-width: 480px) {
            .section { padding: 1.5rem 0.5rem; }
            .form-container { padding: 1.5rem; }
            .data-table th, .data-table td { padding: 0.75rem 0.5rem; font-size: 0.85rem; }
            .hero { padding: 4rem 1rem; }
        }

        /* Scrollbar */
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: var(--bg-secondary); }
        ::-webkit-scrollbar-thumb { background: var(--primary); border-radius: 4px; }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header" id="header">
        <div class="header-content">
            <div class="logo" id="logoBtn">
                <i class="fas fa-code"></i>
                <span>CodeMaster</span>
            </div>
            
            <nav>
                <ul class="nav-menu" id="navMenu">
                    <li class="nav-item"><a href="#" data-section="home" class="nav-link">Accueil</a></li>
                    <li class="nav-item"><a href="#" data-section="courses" class="nav-link">Cours</a></li>
                    <li class="nav-item"><a href="#" data-section="ebooks" class="nav-link">Ebooks</a></li>
                    <li class="nav-item"><a href="#" data-section="videos" class="nav-link">Vidéos</a></li>
                    <li class="nav-item"><a href="#" data-section="documents" class="nav-link">Documents</a></li>
                    <li class="nav-item"><a href="#" data-section="forum" class="nav-link">Forum</a></li>
                    <li class="nav-item"><a href="#" data-section="pricing" class="nav-link">Tarifs</a></li>
                </ul>
            </nav>

            <div class="nav-buttons" id="navButtons">
                <button class="btn btn-outline" id="loginBtn">Connexion</button>
                <button class="btn btn-primary" id="registerBtn">Inscription</button>
            </div>

            <button class="mobile-menu-btn" id="mobileMenuBtn">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </header>

    <!-- Main Content -->
    <div class="main-content">
        <!-- Home Section -->
        <section id="homeSection" class="section animated">
            <div class="hero">
                <h1 class="hero-title">Maîtrisez le code avec CodeMaster</h1>
                <p class="hero-subtitle">
                    La plateforme d'apprentissage la plus complète pour développeurs. 
                    Cours interactifs, ebooks exclusifs, vidéos premium, documents de référence et certification reconnue par l'industrie.
                </p>
                <div class="hero-buttons">
                    <button class="btn btn-primary" id="heroRegisterBtn">
                        <i class="fas fa-rocket"></i> Commencer gratuitement
                    </button>
                    <button class="btn btn-outline" id="heroCoursesBtn">
                        <i class="fas fa-book-open"></i> Explorer les cours
                    </button>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-card pulse">
                    <div class="stat-number" id="studentCount">25,847</div>
                    <div class="stat-label">Étudiants actifs</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="coursesCount">350+</div>
                    <div class="stat-label">Cours disponibles</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="videosCount">200+</div>
                    <div class="stat-label">Vidéos premium</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="documentsCount">100+</div>
                    <div class="stat-label">Documents de référence</div>
                </div>
            </div>
        </section>

        <!-- Courses Section -->
        <section id="coursesSection" class="section hidden">
            <div class="dashboard-header">
                <div>
                    <h1 class="dashboard-title">Catalogue des cours</h1>
                    <div class="dashboard-subtitle">Apprenez avec nos experts reconnus</div>
                </div>
                <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                    <input type="text" class="form-input" id="courseSearch" placeholder="Rechercher..." style="width: 250px;">
                </div>
            </div>
            <div class="content-grid" id="coursesGrid">
                <!-- Courses will be loaded here -->
            </div>
        </section>

        <!-- Ebooks Section -->
        <section id="ebooksSection" class="section hidden">
            <div class="dashboard-header">
                <div>
                    <h1 class="dashboard-title">Bibliothèque d'ebooks</h1>
                    <div class="dashboard-subtitle">Ressources exclusives et guides pratiques</div>
                </div>
                <input type="text" class="form-input" id="ebookSearch" placeholder="Rechercher un ebook..." style="width: 300px;">
            </div>
            <div class="content-grid" id="ebooksGrid">
                <!-- Ebooks will be loaded here -->
            </div>
        </section>

        <!-- Videos Section -->
        <section id="videosSection" class="section hidden">
            <div class="dashboard-header">
                <div>
                    <h1 class="dashboard-title">Vidéos de formation</h1>
                    <div class="dashboard-subtitle">Contenus vidéo exclusifs (non téléchargeables)</div>
                </div>
                <input type="text" class="form-input" id="videoSearch" placeholder="Rechercher une vidéo..." style="width: 300px;">
            </div>
            <div class="content-grid" id="videosGrid">
                <!-- Videos will be loaded here -->
            </div>
        </section>

        <!-- Documents Section -->
        <section id="documentsSection" class="section hidden">
            <div class="dashboard-header">
                <div>
                    <h1 class="dashboard-title">Documents de référence</h1>
                    <div class="dashboard-subtitle">Guides et documentation technique (non téléchargeables)</div>
                </div>
                <input type="text" class="form-input" id="documentSearch" placeholder="Rechercher un document..." style="width: 300px;">
            </div>
            <div class="content-grid" id="documentsGrid">
                <!-- Documents will be loaded here -->
            </div>
        </section>

        <!-- Forum Section -->
        <section id="forumSection" class="section hidden">
            <div class="dashboard-header">
                <div>
                    <h1 class="dashboard-title">Forum communautaire</h1>
                    <div class="dashboard-subtitle">Échangez avec 25,000+ développeurs</div>
                </div>
                <button class="btn btn-primary">
                    <i class="fas fa-plus"></i> Nouvelle discussion
                </button>
            </div>
            
            <div class="dashboard-grid">
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon icon-primary">
                            <i class="fab fa-js"></i>
                        </div>
                        <div>
                            <div class="card-title">JavaScript & Frameworks</div>
                            <div class="card-subtitle">4,567 discussions</div>
                        </div>
                    </div>
                    <p style="color: var(--text-secondary);">React, Vue, Angular, Node.js et plus</p>
                    <button class="btn btn-outline" style="margin-top: 1rem;">Participer</button>
                </div>
                
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon icon-success">
                            <i class="fab fa-python"></i>
                        </div>
                        <div>
                            <div class="card-title">Python & Data Science</div>
                            <div class="card-subtitle">3,234 discussions</div>
                        </div>
                    </div>
                    <p style="color: var(--text-secondary);">Machine Learning, IA, analyse de données</p>
                    <button class="btn btn-outline" style="margin-top: 1rem;">Participer</button>
                </div>
                
                <div class="dashboard-card">
                    <div class="card-header">
                        <div class="card-icon icon-warning">
                            <i class="fas fa-briefcase"></i>
                        </div>
                        <div>
                            <div class="card-title">Carrière & Emploi</div>
                            <div class="card-subtitle">1,892 discussions</div>
                        </div>
                    </div>
                    <p style="color: var(--text-secondary);">CV, entretiens, salaires, opportunités</p>
                    <button class="btn btn-outline" style="margin-top: 1rem;">Participer</button>
                </div>
            </div>
        </section>

        <!-- Pricing Section -->
        <section id="pricingSection" class="section hidden">
            <div style="text-align: center; margin-bottom: 4rem;">
                <h1 class="dashboard-title">Plans et tarifs</h1>
                <p style="color: var(--text-secondary); font-size: 1.25rem; margin-top: 1rem;">
                    Choisissez le plan adapté à vos objectifs
                </p>
            </div>
            
            <div class="dashboard-grid" style="max-width: 1000px; margin: 0 auto;">
                <div class="dashboard-card">
                    <div style="text-align: center;">
                        <h3 style="font-size: 1.8rem; margin-bottom: 1rem; color: var(--text-primary);">Gratuit</h3>
                        <div style="font-size: 3.5rem; font-weight: 800; color: var(--primary); margin-bottom: 1rem;">0</div>
                        <p style="color: var(--text-secondary); margin-bottom: 2rem;">FCFA / mois</p>
                        
                        <ul style="list-style: none; text-align: left; margin-bottom: 2rem; padding: 0;">
                            <li style="margin: 1rem 0; display: flex; align-items: center;">
                                <i class="fas fa-check" style="color: var(--success); margin-right: 1rem;"></i>
                                <span>5 cours d'introduction</span>
                            </li>
                            <li style="margin: 1rem 0; display: flex; align-items: center;">
                                <i class="fas fa-check" style="color: var(--success); margin-right: 1rem;"></i>
                                <span>3 ebooks gratuits</span>
                            </li>
                            <li style="margin: 1rem 0; display: flex; align-items: center;">
                                <i class="fas fa-check" style="color: var(--success); margin-right: 1rem;"></i>
                                <span>Accès au forum</span>
                            </li>
                        </ul>
                        
                        <button class="btn btn-outline" style="width: 100%;">Plan actuel</button>
                    </div>
                </div>
                
                <div class="dashboard-card" style="border-color: var(--primary); transform: scale(1.05); position: relative;">
                    <div style="position: absolute; top: -15px; left: 50%; transform: translateX(-50%); background: var(--primary); color: white; padding: 0.5rem 1.5rem; border-radius: 20px; font-weight: 600; font-size: 0.9rem;">
                        POPULAIRE
                    </div>
                    <div style="text-align: center; margin-top: 1rem;">
                        <h3 style="font-size: 1.8rem; margin-bottom: 1rem; color: var(--text-primary);">Premium</h3>
                        <div style="font-size: 3.5rem; font-weight: 800; color: var(--primary); margin-bottom: 1rem;">5000</div>
                        <p style="color: var(--text-secondary); margin-bottom: 2rem;">FCFA / mois</p>
                        
                        <ul style="list-style: none; text-align: left; margin-bottom: 2rem; padding: 0;">
                            <li style="margin: 1rem 0; display: flex; align-items: center;">
                                <i class="fas fa-check" style="color: var(--success); margin-right: 1rem;"></i>
                                <span><strong>Tous les cours illimités</strong></span>
                            </li>
                            <li style="margin: 1rem 0; display: flex; align-items: center;">
                                <i class="fas fa-check" style="color: var(--success); margin-right: 1rem;"></i>
                                <span>Bibliothèque complète d'ebooks</span>
                            </li>
                            <li style="margin: 1rem 0; display: flex; align-items: center;">
                                <i class="fas fa-check" style="color: var(--success); margin-right: 1rem;"></i>
                                <span>Vidéos premium exclusives</span>
                            </li>
                            <li style="margin: 1rem 0; display: flex; align-items: center;">
                                <i class="fas fa-check" style="color: var(--success); margin-right: 1rem;"></i>
                                <span>Documents de référence</span>
                            </li>
                            <li style="margin: 1rem 0; display: flex; align-items: center;">
                                <i class="fas fa-check" style="color: var(--success); margin-right: 1rem;"></i>
                                <span>Exercices et quiz interactifs</span>
                            </li>
                        </ul>
                        
                        <button class="btn btn-primary pulse" style="width: 100%; padding: 1rem;" id="subscribeBtn">
                            <i class="fas fa-star"></i> S'abonner maintenant
                        </button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Payment Section -->
        <section id="paymentSection" class="section hidden">
            <div class="form-container">
                <h2 class="form-title">Paiement Wave</h2>
                
                <div style="background: rgba(16, 185, 129, 0.1); border: 1px solid var(--success); border-radius: 12px; padding: 2rem; margin-bottom: 2rem;">
                    <h4 style="color: var(--success); margin-bottom: 1rem;">
                        <i class="fas fa-mobile-alt"></i> Instructions de paiement
                    </h4>
                    <ol style="color: var(--text-secondary); line-height: 1.8;">
                        <li>Envoyez <strong style="color: var(--primary);">5000 FCFA</strong> via Wave au : <strong style="color: var(--primary);">0700318328</strong></li>
                        <li>Prenez une capture d'écran de la confirmation</li>
                        <li>Téléchargez votre capture ci-dessous</li>
                        <li>Activation sous 24h après vérification</li>
                    </ol>
                </div>
                
                <form id="paymentForm">
                    <div class="form-group">
                        <label class="form-label">Votre numéro Wave</label>
                        <input type="tel" class="form-input" id="waveNumber" placeholder="0701234567" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Capture d'écran du paiement</label>
                        <input type="file" class="form-input" id="paymentProof" accept="image/*" required>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Commentaire (optionnel)</label>
                        <textarea class="form-input" id="paymentComment" rows="3" placeholder="Informations supplémentaires..."></textarea>
                    </div>
                    
                    <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 1rem;">
                        <i class="fas fa-upload"></i> Envoyer pour vérification
                    </button>
                    
                    <button type="button" class="btn btn-outline" style="width: 100%; margin-top: 0.5rem;" id="backToPricingBtn">
                        <i class="fas fa-arrow-left"></i> Retour
                    </button>
                </form>
            </div>
        </section>

        <!-- Login Section -->
        <section id="loginSection" class="section hidden">
            <div class="form-container">
                <h2 class="form-title">Connexion</h2>
                <form id="loginForm">
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="loginEmail" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Mot de passe</label>
                        <input type="password" class="form-input" id="loginPassword" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Se connecter</button>
                    <p style="text-align: center; margin-top: 1rem; color: var(--text-secondary);">
                        Pas de compte ? 
                        <a href="#" style="color: var(--primary);" id="goToRegisterBtn">S'inscrire</a>
                    </p>
                </form>
            </div>
        </section>

        <!-- Register Section -->
        <section id="registerSection" class="section hidden">
            <div class="form-container">
                <h2 class="form-title">Inscription</h2>
                <form id="registerForm">
                    <div class="form-group">
                        <label class="form-label">Nom complet</label>
                        <input type="text" class="form-input" id="registerName" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Email</label>
                        <input type="email" class="form-input" id="registerEmail" required>
                    </div>
                    <div class="form-group">
                        <label class="form-label">Mot de passe</label>
                        <input type="password" class="form-input" id="registerPassword" required minlength="6">
                    </div>
                    <div class="form-group">
                        <label class="form-label">Confirmer le mot de passe</label>
                        <input type="password" class="form-input" id="registerPasswordConfirm" required>
                    </div>
                    <button type="submit" class="btn btn-primary" style="width: 100%;">Créer mon compte</button>
                    <p style="text-align: center; margin-top: 1rem; color: var(--text-secondary);">
                        Déjà un compte ? 
                        <a href="#" style="color: var(--primary);" id="goToLoginBtn">Se connecter</a>
                    </p>
                </form>
            </div>
        </section>

        <!-- User Dashboard -->
        <section id="userDashboard" class="section hidden">
            <div class="dashboard">
                <div class="dashboard-header">
                    <div>
                        <h1 class="dashboard-title">Dashboard - <span id="userName"></span></h1>
                        <div class="dashboard-subtitle">
                            Statut : <span id="userStatus" class="status-badge">Gratuit</span>
                        </div>
                    </div>
                    <button class="btn btn-danger" id="userLogoutBtn">
                        <i class="fas fa-sign-out-alt"></i> Déconnexion
                    </button>
                </div>
                
                <!-- Stats Overview avec flammes et étoiles -->
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon icon-primary">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div>
                                <div class="card-title">Progression</div>
                                <div class="card-subtitle">Votre avancement global</div>
                            </div>
                        </div>
                        <div style="font-size: 2.5rem; font-weight: 800; color: var(--primary);" id="userProgressPercent">37%</div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon icon-warning" style="background: linear-gradient(135deg, #ff6b35, #f7931e);">
                                <i class="fas fa-fire"></i>
                            </div>
                            <div>
                                <div class="card-title">Flammes 🔥</div>
                                <div class="card-subtitle">Votre constance</div>
                            </div>
                        </div>
                        <div style="font-size: 2.5rem; font-weight: 800; color: #ff6b35;" id="userFlames">0</div>
                        <div style="margin-top: 1rem;">
                            <p style="color: var(--text-secondary); font-size: 0.9rem;">Série de <span id="dailyStreak">0</span> jours !</p>
                            <button class="btn btn-info btn-small" id="gainFlameBtn" style="margin-top: 0.5rem;">
                                <i class="fas fa-fire"></i> Gagner ma flamme du jour
                            </button>
                        </div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon icon-info" style="background: linear-gradient(135deg, #f3c623, #f7d358);">
                                <i class="fas fa-star"></i>
                            </div>
                            <div>
                                <div class="card-title">Étoiles ⭐</div>
                                <div class="card-subtitle">Récompenses</div>
                            </div>
                        </div>
                        <div style="font-size: 2.5rem; font-weight: 800; color: #f3c623;" id="userStars">0</div>
                        <div style="margin-top: 1rem;">
                            <button class="btn btn-warning btn-small" id="gainStarBtn">
                                <i class="fas fa-star"></i> Gagner mon étoile du jour
                            </button>
                        </div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon icon-success">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div>
                                <div class="card-title">Temps d'étude</div>
                                <div class="card-subtitle">Cette semaine</div>
                            </div>
                        </div>
                        <div style="font-size: 2.5rem; font-weight: 800; color: var(--success);">12h 30m</div>
                        <p style="color: var(--text-secondary); margin-top: 0.5rem;">+2h vs semaine dernière</p>
                    </div>
                </div>

                <!-- Chatbot Section -->
                <div style="margin-top: 4rem;">
                    <h3 style="color: var(--text-primary); margin-bottom: 2rem;">Assistant CodeMaster</h3>
                    
                    <div class="dashboard-card" style="max-width: 800px;">
                        <div class="card-header">
                            <div class="card-icon icon-info">
                                <i class="fas fa-robot"></i>
                            </div>
                            <div>
                                <div class="card-title">ChatBot Assistant</div>
                                <div class="card-subtitle">Posez vos questions ou contactez l'équipe</div>
                            </div>
                        </div>
                        
                        <div id="chatContainer" style="height: 400px; display: flex; flex-direction: column; background: var(--bg-secondary); border-radius: 12px; overflow: hidden; margin-bottom: 1rem;">
                            <div style="background: var(--primary); color: white; padding: 1rem; display: flex; align-items: center; gap: 0.5rem;">
                                <i class="fas fa-robot"></i>
                                <span style="font-weight: 600;">Assistant CodeMaster</span>
                                <div style="margin-left: auto; display: flex; gap: 0.5rem;">
                                    <button id="contactAdminBtn" class="btn btn-warning btn-small">
                                        <i class="fas fa-user-tie"></i> Contacter Admin
                                    </button>
                                    <button id="clearChatBtn" class="btn btn-outline btn-small" style="color: white; border-color: white;">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </div>
                            
                            <div id="chatMessages" style="flex: 1; padding: 1rem; overflow-y: auto; display: flex; flex-direction: column; gap: 1rem;">
                                <div class="bot-message">
                                    <div style="background: rgba(99, 102, 241, 0.1); border-radius: 12px; padding: 1rem; max-width: 80%;">
                                        <div style="font-weight: 600; color: var(--primary); margin-bottom: 0.5rem;">
                                            🤖 Assistant CodeMaster
                                        </div>
                                        <p style="color: var(--text-primary); margin: 0;">
                                            Salut ! 👋 Je suis là pour t'aider. 
                                            Tu peux me poser des questions sur les cours, ton progression, ou utiliser le bouton "Contacter Admin" pour parler directement à l'équipe !
                                        </p>
                                    </div>
                                </div>
                            </div>
                            
                            <div style="padding: 1rem; border-top: 1px solid var(--border); background: var(--bg-tertiary);">
                                <div style="display: flex; gap: 0.5rem;">
                                    <input type="text" id="chatInput" placeholder="Tapez votre message..." 
                                           style="flex: 1; padding: 0.75rem; border: 1px solid var(--border); border-radius: 8px; background: var(--bg-secondary); color: var(--text-primary);">
                                    <button id="sendChatBtn" class="btn btn-primary">
                                        <i class="fas fa-paper-plane"></i>
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <div style="display: flex; gap: 1rem; flex-wrap: wrap;">
                            <button class="btn btn-outline btn-small" onclick="sendQuickMessage('Comment gagner plus de flammes ?')">
                                🔥 Comment gagner des flammes ?
                            </button>
                            <button class="btn btn-outline btn-small" onclick="sendQuickMessage('Quels cours recommandez-vous ?')">
                                📚 Cours recommandés ?
                            </button>
                            <button class="btn btn-outline btn-small" onclick="sendQuickMessage('Comment obtenir un certificat ?')">
                                🏆 Obtenir un certificat ?
                            </button>
                        </div>
                    </div>
                </div>

                <!-- My Content -->
                <div style="margin-top: 3rem;" id="userContentSection">
                    <h3 style="color: var(--text-primary); margin-bottom: 2rem;">Mes contenus suivis</h3>
                    <div class="content-grid" id="enrolledContentGrid">
                        <div style="grid-column: 1 / -1; text-align: center; padding: 3rem; color: var(--text-muted);">
                            <i class="fas fa-graduation-cap" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                            <p>Aucun contenu suivi pour le moment</p>
                            <button class="btn btn-primary" onclick="showSection('courses')" style="margin-top: 1rem;">
                                <i class="fas fa-search"></i> Découvrir les contenus
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Admin Dashboard -->
        <section id="adminDashboard" class="section hidden">
            <div class="dashboard">
                <div class="dashboard-header">
                    <div>
                        <h1 class="dashboard-title">Dashboard Administrateur</h1>
                        <div class="dashboard-subtitle">Contrôle total de la plateforme</div>
                    </div>
                    <div style="display: flex; gap: 1rem;">
                        <button class="btn btn-primary" id="adminAddContentBtn">
                            <i class="fas fa-plus"></i> Ajouter contenu
                        </button>
                        <button class="btn btn-warning" id="manageAdminsBtn">
                            <i class="fas fa-users-cog"></i> Gérer admins
                        </button>
                        <button class="btn btn-danger" id="adminLogoutBtn">
                            <i class="fas fa-sign-out-alt"></i> Déconnexion
                        </button>
                    </div>
                </div>
                
                <!-- Admin Stats -->
                <div class="dashboard-grid">
                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon icon-primary">
                                <i class="fas fa-users"></i>
                            </div>
                            <div>
                                <div class="card-title">Utilisateurs</div>
                                <div class="card-subtitle">Total inscrits</div>
                            </div>
                        </div>
                        <div style="font-size: 2.5rem; font-weight: 800; color: var(--primary);" id="totalUsers">0</div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon icon-warning">
                                <i class="fas fa-clock"></i>
                            </div>
                            <div>
                                <div class="card-title">Paiements</div>
                                <div class="card-subtitle">En attente</div>
                            </div>
                        </div>
                        <div style="font-size: 2.5rem; font-weight: 800; color: var(--warning);" id="pendingPayments">0</div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon icon-success">
                                <i class="fas fa-book"></i>
                            </div>
                            <div>
                                <div class="card-title">Contenus</div>
                                <div class="card-subtitle">Total disponibles</div>
                            </div>
                        </div>
                        <div style="font-size: 2.5rem; font-weight: 800; color: var(--success);" id="totalContent">0</div>
                    </div>
                    
                    <div class="dashboard-card">
                        <div class="card-header">
                            <div class="card-icon icon-info">
                                <i class="fas fa-dollar-sign"></i>
                            </div>
                            <div>
                                <div class="card-title">Revenus</div>
                                <div class="card-subtitle">Ce mois (FCFA)</div>
                            </div>
                        </div>
                        <div style="font-size: 2.5rem; font-weight: 800; color: var(--info);" id="monthlyRevenue">0</div>
                    </div>
                </div>

                <!-- Users Management -->
                <div style="margin-top: 3rem;">
                    <h3 style="color: var(--text-primary); margin-bottom: 2rem;">Gestion des utilisateurs</h3>
                    <div class="table-container">
                        <table class="data-table">
                            <thead>
                                <tr>
                                    <th>Utilisateur</th>
                                    <th>Email</th>
                                    <th>Statut</th>
                                    <th>Inscription</th>
                                    <th>Paiement</th>
                                    <th>Actions</th>
                                </tr>
                            </thead>
                            <tbody id="usersTable">
                                <!-- Users will be loaded here -->
                            </tbody>
                        </table>
                    </div>
                </div>

                <!-- Admin Content Management -->
                <div style="margin-top: 4rem;">
                    <h3 style="color: var(--text-primary); margin-bottom: 2rem;">Mes contenus créés</h3>
                    <div class="content-grid" id="adminContentGrid">
                        <!-- Admin created content will be loaded here -->
                    </div>
                </div>
            </div>
        </section>

        <!-- Content Viewer Section -->
        <section id="contentViewerSection" class="section hidden">
            <div id="contentViewerContent">
                <!-- Content detail will be loaded here -->
            </div>
        </section>

        <!-- Quiz Section -->
        <section id="quizSection" class="section hidden">
            <div class="quiz-container">
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                    <h2 style="color: var(--text-primary);">Quiz - <span id="quizTitle"></span></h2>
                    <button class="btn btn-outline" onclick="goBackFromQuiz()">
                        <i class="fas fa-arrow-left"></i> Retour
                    </button>
                </div>
                
                <div id="quizContent">
                    <!-- Quiz questions will be loaded here -->
                </div>
                
                <div style="margin-top: 2rem; text-align: center;">
                    <button class="btn btn-primary" id="submitQuizBtn" style="display: none;">
                        <i class="fas fa-check"></i> Valider le quiz
                    </button>
                </div>
            </div>
        </section>
    </div>

    <!-- Add Content Modal (ADMIN ONLY) -->
    <div id="addContentModal" class="modal">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h3 style="color: var(--text-primary);">Ajouter du contenu</h3>
                <button class="modal-close" style="background: none; border: none; color: var(--text-muted); font-size: 1.5rem; cursor: pointer;">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <form id="addContentForm">
                <div class="form-group">
                    <label class="form-label">Type de contenu</label>
                    <select class="form-select" id="contentType" required>
                        <option value="">Choisir un type</option>
                        <option value="course">Cours (avec exercices/quiz)</option>
                        <option value="ebook">Ebook (téléchargeable)</option>
                        <option value="video">Vidéo (non téléchargeable)</option>
                        <option value="document">Document Word (non téléchargeable)</option>
                    </select>
                </div>

                <div class="form-group">
                    <label class="form-label">Titre</label>
                    <input type="text" class="form-input" id="contentTitle" required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Description</label>
                    <textarea class="form-input" id="contentDescription" rows="4" required></textarea>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Catégorie</label>
                    <select class="form-select" id="contentCategory" required>
                        <option value="">Choisir une catégorie</option>
                        <option value="web">Développement Web</option>
                        <option value="mobile">Développement Mobile</option>
                        <option value="data">Data Science</option>
                        <option value="ai">Intelligence Artificielle</option>
                        <option value="devops">DevOps</option>
                        <option value="security">Sécurité</option>
                        <option value="programming">Programmation</option>
                        <option value="career">Carrière</option>
                    </select>
                </div>

                <!-- Champs spécifiques selon le type -->
                <div id="courseFields" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Niveau</label>
                        <select class="form-select" id="courseLevel">
                            <option value="beginner">Débutant</option>
                            <option value="intermediate">Intermédiaire</option>
                            <option value="advanced">Avancé</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Durée estimée</label>
                        <input type="text" class="form-input" id="courseDuration" placeholder="Ex: 24h">
                    </div>
                </div>

                <div id="ebookFields" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">Auteur</label>
                        <input type="text" class="form-input" id="ebookAuthor">
                    </div>
                    
                    <div class="form-group">
                        <label class="form-label">Nombre de pages</label>
                        <input type="number" class="form-input" id="ebookPages" min="1">
                    </div>
                </div>

                <div id="urlFields" style="display: none;">
                    <div class="form-group">
                        <label class="form-label">URL du contenu</label>
                        <input type="url" class="form-input" id="contentUrl" placeholder="https://...">
                        <small style="color: var(--text-muted); margin-top: 0.5rem; display: block;">
                            Pour vidéos: YouTube, Vimeo, etc. Pour documents: Google Drive, OneDrive, etc.
                        </small>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Type d'accès</label>
                    <select class="form-select" id="contentPrice" required>
                        <option value="free">Gratuit</option>
                        <option value="premium">Premium uniquement</option>
                    </select>
                </div>

                <!-- Exercices pour les cours -->
                <div id="exercisesSection" style="display: none;">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin: 2rem 0 1rem;">
                        <h4 style="color: var(--text-primary);">Exercices et Quiz</h4>
                        <button type="button" class="btn btn-info btn-small" id="addExerciseBtn">
                            <i class="fas fa-plus"></i> Ajouter exercice
                        </button>
                    </div>
                    <div id="exercisesContainer">
                        <!-- Exercises will be added here -->
                    </div>
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%; margin-top: 2rem;">
                    <i class="fas fa-plus"></i> Créer le contenu
                </button>
            </form>
        </div>
    </div>

    <!-- Admin Management Modal -->
    <div id="adminModal" class="modal">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h3 style="color: var(--text-primary);">Gestion des administrateurs</h3>
                <button class="modal-close" style="background: none; border: none; color: var(--text-muted); font-size: 1.5rem; cursor: pointer;">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div style="margin-bottom: 2rem;">
                <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Ajouter un administrateur</h4>
                <form id="addAdminForm">
                    <div class="form-group">
                        <label class="form-label">Email de l'utilisateur</label>
                        <input type="email" class="form-input" id="adminEmail" placeholder="email@example.com" required>
                    </div>
                    <button type="submit" class="btn btn-warning" style="width: 100%;">
                        <i class="fas fa-user-plus"></i> Promouvoir en administrateur
                    </button>
                </form>
            </div>
            
            <div>
                <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Administrateurs actuels</h4>
                <div id="adminsList">
                    <!-- Admins list will be loaded here -->
                </div>
            </div>
        </div>
    </div>

    <!-- Payment Proof Modal -->
    <div id="paymentModal" class="modal">
        <div class="modal-content">
            <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                <h3 style="color: var(--text-primary);">Vérification du paiement</h3>
                <button class="modal-close" style="background: none; border: none; color: var(--text-muted); font-size: 1.5rem; cursor: pointer;">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            
            <div style="text-align: center;">
                <img id="paymentProofImage" style="width: 100%; max-height: 400px; object-fit: contain; border-radius: 8px; margin-bottom: 2rem;">
                <div id="paymentDetails" style="text-align: left; background: var(--bg-tertiary); padding: 1rem; border-radius: 8px; margin-bottom: 2rem;">
                    <!-- Payment details will be shown here -->
                </div>
                <div style="display: flex; gap: 1rem;">
                    <button class="btn btn-success" id="approvePaymentBtn" style="flex: 1;">
                        <i class="fas fa-check"></i> Approuver
                    </button>
                    <button class="btn btn-danger" id="rejectPaymentBtn" style="flex: 1;">
                        <i class="fas fa-times"></i> Rejeter
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Notifications -->
    <div id="notification" class="notification">
        <div style="display: flex; align-items: center; gap: 1rem;">
            <i id="notificationIcon"></i>
            <span id="notificationText"></span>
            <button style="background: none; border: none; color: var(--text-muted); cursor: pointer; margin-left: auto;">
                <i class="fas fa-times"></i>
            </button>
        </div>
    </div>

    <!-- Loading -->
    <div id="loading" class="loading">
        <div style="text-align: center; color: white;">
            <div class="loading-spinner">
                <i class="fas fa-spinner"></i>
            </div>
            <p style="margin-top: 1rem; font-size: 1.2rem;">Chargement...</p>
        </div>
    </div>

    <!-- Footer -->
    <footer style="background: var(--bg-secondary); border-top: 1px solid var(--glass-border); margin-top: 4rem;">
        <div style="max-width: 1400px; margin: 0 auto; padding: 3rem 2rem 2rem;">
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-bottom: 2rem;">
                <div>
                    <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
                        <i class="fas fa-code" style="color: var(--primary); font-size: 1.5rem;"></i>
                        <span style="font-size: 1.5rem; font-weight: 800; color: var(--primary);">CodeMaster</span>
                    </div>
                    <p style="color: var(--text-secondary); line-height: 1.6; margin-bottom: 1rem;">
                        La plateforme d'apprentissage la plus complète pour développeurs passionnés.
                    </p>
                    <div style="display: flex; gap: 1rem;">
                        <a href="#" style="color: var(--text-muted); font-size: 1.2rem; transition: color 0.3s;">
                            <i class="fab fa-twitter"></i>
                        </a>
                        <a href="#" style="color: var(--text-muted); font-size: 1.2rem; transition: color 0.3s;">
                            <i class="fab fa-linkedin"></i>
                        </a>
                        <a href="#" style="color: var(--text-muted); font-size: 1.2rem; transition: color 0.3s;">
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="#" style="color: var(--text-muted); font-size: 1.2rem; transition: color 0.3s;">
                            <i class="fab fa-youtube"></i>
                        </a>
                    </div>
                </div>
                
                <div>
                    <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Apprentissage</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 0.5rem;"><a href="#" data-section="courses" style="color: var(--text-secondary); text-decoration: none;">Tous les cours</a></li>
                        <li style="margin-bottom: 0.5rem;"><a href="#" data-section="ebooks" style="color: var(--text-secondary); text-decoration: none;">Bibliothèque ebooks</a></li>
                        <li style="margin-bottom: 0.5rem;"><a href="#" data-section="videos" style="color: var(--text-secondary); text-decoration: none;">Vidéos de formation</a></li>
                        <li style="margin-bottom: 0.5rem;"><a href="#" data-section="documents" style="color: var(--text-secondary); text-decoration: none;">Documents de référence</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Support</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 0.5rem;"><a href="#" style="color: var(--text-secondary); text-decoration: none;">Centre d'aide</a></li>
                        <li style="margin-bottom: 0.5rem;"><a href="#" style="color: var(--text-secondary); text-decoration: none;">Nous contacter</a></li>
                        <li style="margin-bottom: 0.5rem;"><a href="#" style="color: var(--text-secondary); text-decoration: none;">FAQ</a></li>
                        <li style="margin-bottom: 0.5rem;"><a href="mailto:paulkouame973@gmail.com" style="color: var(--primary); text-decoration: none;">Email: paulkouame973@gmail.com</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 style="color: var(--text-primary); margin-bottom: 1rem;">Entreprise</h4>
                    <ul style="list-style: none; padding: 0;">
                        <li style="margin-bottom: 0.5rem;"><a href="#" style="color: var(--text-secondary); text-decoration: none;">À propos</a></li>
                        <li style="margin-bottom: 0.5rem;"><a href="#" style="color: var(--text-secondary); text-decoration: none;">Notre équipe</a></li>
                        <li style="margin-bottom: 0.5rem;"><a href="#" style="color: var(--text-secondary); text-decoration: none;">Carrières</a></li>
                        <li style="margin-bottom: 0.5rem;"><a href="#" data-section="pricing" style="color: var(--text-secondary); text-decoration: none;">Tarifs entreprise</a></li>
                    </ul>
                </div>
            </div>
            
            <div style="border-top: 1px solid var(--border); padding-top: 2rem; display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 1rem;">
                <p style="color: var(--text-muted); margin: 0;">
                    © 2024 CodeMaster. Tous droits réservés.
                </p>
                <div style="display: flex; gap: 2rem;">
                    <a href="#" style="color: var(--text-muted); text-decoration: none; font-size: 0.9rem;">Conditions d'utilisation</a>
                    <a href="#" style="color: var(--text-muted); text-decoration: none; font-size: 0.9rem;">Confidentialité</a>
                    <a href="#" style="color: var(--text-muted); text-decoration: none; font-size: 0.9rem;">Cookies</a>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Application State
        let currentUser = null;
        let currentSection = 'home';
        let currentPaymentUserId = null;
        let currentContentId = null;
        let exercises = [];
        let quizAnswers = {};
        const ADMIN_EMAIL = "paulkouame973@gmail.com";

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            setupEventListeners();
            
            // Check if user is logged in
            const savedUser = localStorage.getItem('currentUser');
            if (savedUser) {
                currentUser = JSON.parse(savedUser);
                updateNavigation();
                if (currentUser.isAdmin) {
                    loadAdminData();
                    showSection('adminDashboard');
                } else {
                    loadUserDashboard();
                    showSection('userDashboard');
                }
            } else {
                showSection('home');
            }

            // Header scroll effect
            window.addEventListener('scroll', handleScroll);
        });

        function initializeApp() {
            // Initialize storage with default content
            if (!localStorage.getItem('users')) {
                localStorage.setItem('users', JSON.stringify([]));
            }
            if (!localStorage.getItem('content')) {
                localStorage.setItem('content', JSON.stringify([
                    {
                        id: 1,
                        title: "JavaScript Moderne ES6+",
                        description: "Maîtrisez les concepts modernes de JavaScript avec ES6, ES2017+ et les dernières fonctionnalités.",
                        contentType: "course",
                        category: "web",
                        level: "intermediate",
                        duration: "24h",
                        price: "premium",
                        author: "CodeMaster Team",
                        createdBy: "system",
                        createdAt: new Date().toISOString(),
                        exercises: [
                            {
                                question: "Quelle est la différence entre let et var ?",
                                options: ["Aucune différence", "let a une portée de bloc", "var est plus moderne", "let ne peut pas être redéclaré"],
                                correctAnswer: 1
                            },
                            {
                                question: "Comment déclarer une arrow function ?",
                                options: ["function() {}", "() => {}", "=> function()", "function => {}"],
                                correctAnswer: 1
                            }
                        ]
                    },
                    {
                        id: 2,
                        title: "Python pour débutants",
                        description: "Apprenez Python depuis zéro avec des exemples pratiques et des projets concrets.",
                        contentType: "course",
                        category: "programming",
                        level: "beginner",
                        duration: "18h",
                        price: "free",
                        author: "CodeMaster Team",
                        createdBy: "system",
                        createdAt: new Date().toISOString(),
                        exercises: [
                            {
                                question: "Comment afficher du texte en Python ?",
                                options: ["echo('Hello')", "print('Hello')", "display('Hello')", "show('Hello')"],
                                correctAnswer: 1
                            }
                        ]
                    },
                    {
                        id: 3,
                        title: "Guide complet du développeur moderne",
                        description: "Tout ce qu'un développeur doit savoir en 2024 : technologies, bonnes pratiques et conseils carrière.",
                        contentType: "ebook",
                        category: "programming",
                        pages: 250,
                        price: "free",
                        author: "CodeMaster Team",
                        createdBy: "system",
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: 4,
                        title: "Introduction à React - Tutoriel vidéo",
                        description: "Apprenez les bases de React avec cette série de vidéos complète.",
                        contentType: "video",
                        category: "web",
                        price: "premium",
                        url: "https://www.youtube.com/embed/dGcsHMXbSOA",
                        author: "CodeMaster Team",
                        createdBy: "system",
                        createdAt: new Date().toISOString()
                    },
                    {
                        id: 5,
                        title: "Documentation API REST",
                        description: "Guide complet pour créer et documenter des API REST professionnelles.",
                        contentType: "document",
                        category: "web",
                        price: "premium",
                        url: "https://docs.google.com/document/d/1BxstMEn7K8XjIGW8yT5vQZoQk9-example/preview",
                        author: "CodeMaster Team",
                        createdBy: "system",
                        createdAt: new Date().toISOString()
                    }
                ]));
            }
            
            loadAllContent();
            updateCounters();
        }

        function setupEventListeners() {
            // Navigation using event delegation
            document.body.addEventListener('click', handleGlobalClicks);
            
            // Forms
            document.getElementById('loginForm').addEventListener('submit', handleLogin);
            document.getElementById('registerForm').addEventListener('submit', handleRegister);
            document.getElementById('paymentForm').addEventListener('submit', handlePaymentSubmission);
            document.getElementById('addContentForm').addEventListener('submit', handleAddContent);
            document.getElementById('addAdminForm').addEventListener('submit', handleAddAdmin);

            // Content type change
            document.getElementById('contentType').addEventListener('change', handleContentTypeChange);

            // Search inputs
            document.getElementById('courseSearch').addEventListener('input', () => filterContent('course'));
            document.getElementById('ebookSearch').addEventListener('input', () => filterContent('ebook'));
            document.getElementById('videoSearch').addEventListener('input', () => filterContent('video'));
            document.getElementById('documentSearch').addEventListener('input', () => filterContent('document'));

            // Chat functionality
            document.getElementById('sendChatBtn').addEventListener('click', sendChatMessage);
            document.getElementById('chatInput').addEventListener('keypress', (e) => {
                if (e.key === 'Enter') sendChatMessage();
            });

            // Modal backdrop close
            document.querySelectorAll('.modal').forEach(modal => {
                modal.addEventListener('click', (e) => {
                    if (e.target === modal) {
                        modal.classList.remove('show');
                    }
                });
            });
        }

        // Global click handler for better event management
        function handleGlobalClicks(e) {
            const target = e.target.closest('button, a');
            if (!target) return;
            
            // Navigation
            if (target.matches('#logoBtn, #logoBtn *')) {
                showSection('home');
            } else if (target.matches('#mobileMenuBtn, #mobileMenuBtn *')) {
                toggleMobileMenu();
            } else if (target.matches('.nav-link')) {
                e.preventDefault();
                const section = target.getAttribute('data-section');
                if (section) {
                    showSection(section);
                    closeMobileMenu();
                }
            }
            
            // Auth buttons
            else if (target.matches('#loginBtn')) {
                showSection('login');
            } else if (target.matches('#registerBtn, #heroRegisterBtn')) {
                showSection('register');
            } else if (target.matches('#heroCoursesBtn')) {
                showSection('courses');
            } else if (target.matches('#subscribeBtn')) {
                showPaymentForm();
            } else if (target.matches('#goToRegisterBtn')) {
                showSection('register');
            } else if (target.matches('#goToLoginBtn')) {
                showSection('login');
            } else if (target.matches('#backToPricingBtn')) {
                showSection('pricing');
            }
            
            // Dashboard
            else if (target.matches('#userLogoutBtn, #adminLogoutBtn')) {
                logout();
            } else if (target.matches('#adminAddContentBtn')) {
                document.getElementById('addContentModal').classList.add('show');
            } else if (target.matches('#manageAdminsBtn')) {
                showAdminManagement();
            } else if (target.matches('#gainFlameBtn')) {
                gainFlameDaily();
            } else if (target.matches('#gainStarBtn')) {
                gainStarDaily();
            }
            
            // Chat
            else if (target.matches('#clearChatBtn')) {
                clearChat();
            } else if (target.matches('#contactAdminBtn')) {
                contactAdmin();
            }
            
            // Modals
            else if (target.matches('.modal-close')) {
                target.closest('.modal').classList.remove('show');
            }
            
            // Notifications
            else if (target.matches('#notification button, #notification button *')) {
                closeNotification();
            }
            
            // Exercise management
            else if (target.matches('#addExerciseBtn')) {
                addExerciseField();
            }

            // Footer links
            else if (target.matches('footer [data-section]')) {
                e.preventDefault();
                const section = target.getAttribute('data-section');
                showSection(section);
            }
        }

        function handleScroll() {
            const header = document.getElementById('header');
            if (window.scrollY > 50) {
                header.classList.add('scrolled');
            } else {
                header.classList.remove('scrolled');
            }
        }

        function toggleMobileMenu() {
            const navMenu = document.getElementById('navMenu');
            const btn = document.getElementById('mobileMenuBtn');
            
            navMenu.classList.toggle('active');
            const icon = btn.querySelector('i');
            if (navMenu.classList.contains('active')) {
                icon.className = 'fas fa-times';
            } else {
                icon.className = 'fas fa-bars';
            }
        }

        function closeMobileMenu() {
            const navMenu = document.getElementById('navMenu');
            const btn = document.getElementById('mobileMenuBtn');
            navMenu.classList.remove('active');
            btn.querySelector('i').className = 'fas fa-bars';
        }

        // Navigation - Fixed section switching
        function showSection(sectionName) {
            // Hide all sections
            const sections = document.querySelectorAll('section[id$="Section"], #userDashboard, #adminDashboard');
            sections.forEach(sec => {
                sec.classList.add('hidden');
                sec.classList.remove('animated');
            });
            
            // Show target section
            const targetSection = document.getElementById(sectionName + 'Section') || document.getElementById(sectionName);
            if (targetSection) {
                targetSection.classList.remove('hidden');
                targetSection.classList.add('animated');
            }

            // Update nav active state
            document.querySelectorAll('.nav-link').forEach(link => {
                link.classList.toggle('active', link.getAttribute('data-section') === sectionName);
            });

            currentSection = sectionName;
            updateFlameCounter();

            // Load content for specific sections
            if (['courses', 'ebooks', 'videos', 'documents'].includes(sectionName)) {
                loadAllContent();
            }
        }

        function updateNavigation() {
            const navButtons = document.getElementById('navButtons');
            if (currentUser) {
                if (currentUser.isAdmin) {
                    navButtons.innerHTML = `
                        <span style="color: var(--text-secondary);">Admin: ${currentUser.name}</span>
                        <button class="btn btn-warning btn-small" onclick="showSection('adminDashboard')">
                            <i class="fas fa-shield-alt"></i> Admin
                        </button>
                        <button class="btn btn-primary btn-small" onclick="showSection('userDashboard')">
                            <i class="fas fa-tachometer-alt"></i> Dashboard
                        </button>
                    `;
                } else {
                    navButtons.innerHTML = `
                        <span style="color: var(--text-secondary);">Bonjour ${currentUser.name}</span>
                        <button class="btn btn-primary" onclick="showSection('userDashboard')">
                            <i class="fas fa-tachometer-alt"></i> Mon espace
                        </button>
                    `;
                }
            } else {
                navButtons.innerHTML = `
                    <button class="btn btn-outline" id="loginBtn">Connexion</button>
                    <button class="btn btn-primary" id="registerBtn">Inscription</button>
                `;
            }
        }

        // Authentication
        function handleLogin(e) {
            e.preventDefault();
            showLoading();
            
            setTimeout(() => {
                const email = document.getElementById('loginEmail').value.trim().toLowerCase();
                const password = document.getElementById('loginPassword').value;
                
                const users = JSON.parse(localStorage.getItem('users') || '[]');
                const user = users.find(u => u.email === email && u.password === password);
                
                hideLoading();
                
                if (!user) {
                    showNotification('Email ou mot de passe incorrect', 'error');
                    return;
                }
                
                // Check if admin
                if (email === ADMIN_EMAIL) {
                    user.isAdmin = true;
                    const userIndex = users.findIndex(u => u.id === user.id);
                    if (userIndex !== -1) {
                        users[userIndex].isAdmin = true;
                        localStorage.setItem('users', JSON.stringify(users));
                    }
                }
                
                // Update last activity
                user.lastActivity = new Date().toISOString();
                const userIndex = users.findIndex(u => u.id === user.id);
                if (userIndex !== -1) {
                    users[userIndex] = user;
                    localStorage.setItem('users', JSON.stringify(users));
                }
                
                currentUser = user;
                localStorage.setItem('currentUser', JSON.stringify(user));
                
                updateNavigation();
                
                if (user.isAdmin) {
                    loadAdminData();
                    showSection('adminDashboard');
                } else {
                    loadUserDashboard();
                    showSection('userDashboard');
                }
                
                showNotification(`Bienvenue ${user.name} !`, 'success');
                document.getElementById('loginForm').reset();
            }, 1000);
        }

        function handleRegister(e) {
            e.preventDefault();
            const nameValue = document.getElementById('registerName').value.trim();
            const emailValue = document.getElementById('registerEmail').value.trim().toLowerCase();
            const passwordValue = document.getElementById('registerPassword').value;
            const confirmPasswordValue = document.getElementById('registerPasswordConfirm').value;
            
            if (passwordValue !== confirmPasswordValue) {
                showNotification('Les mots de passe ne correspondent pas', 'error');
                return;
            }
            
            showLoading();
            
            setTimeout(() => {
                const users = JSON.parse(localStorage.getItem('users') || '[]');
                
                if (users.find(u => u.email === emailValue)) {
                    hideLoading();
                    showNotification('Cet email est déjà utilisé', 'error');
                    return;
                }
                
                const newUser = {
                    id: Date.now(),
                    name: nameValue,
                    email: emailValue,
                    password: passwordValue,
                    isAdmin: emailValue === ADMIN_EMAIL,
                    subscription: {
                        status: 'free',
                        paymentProof: null,
                        paymentPhone: null
                    },
                    flames: {
                        total: 2,
                        dailyStreak: 1,
                        lastGainDate: null,
                        activities: []
                    },
                    stars: {
                        total: 1,
                        lastGainDate: null,
                        activities: []
                    },
                    progress: {},
                    joinedAt: new Date().toISOString(),
                    lastActivity: new Date().toISOString()
                };
                
                users.push(newUser);
                localStorage.setItem('users', JSON.stringify(users));
                
                currentUser = newUser;
                localStorage.setItem('currentUser', JSON.stringify(newUser));
                
                updateNavigation();
                
                if (newUser.isAdmin) {
                    loadAdminData();
                    showSection('adminDashboard');
                } else {
                    loadUserDashboard();
                    showSection('userDashboard');
                }
                
                hideLoading();
                showNotification(`Bienvenue ${nameValue} ! +2 flammes et +1 étoile de bienvenue !`, 'success');
                document.getElementById('registerForm').reset();
                
                // Animation de bienvenue
                showGainAnimation('flame', 2);
                setTimeout(() => showGainAnimation('star', 1), 1000);
            }, 1000);
        }

        function logout() {
            showLoading();
            setTimeout(() => {
                currentUser = null;
                localStorage.removeItem('currentUser');
                updateNavigation();
                showSection('home');
                hideLoading();
                showNotification('Déconnexion réussie', 'info');
                
                // Remove flame counter
                const flameCounter = document.getElementById('flameCounter');
                if (flameCounter) {
                    flameCounter.remove();
                }
            }, 500);
        }

        // Dashboard Functions
        function loadUserDashboard() {
            if (!currentUser) return;
            
            document.getElementById('userName').textContent = currentUser.name;
            
            // Initialize flames and stars if not exists
            if (!currentUser.flames) {
                currentUser.flames = { total: 0, dailyStreak: 0, lastGainDate: null, activities: [] };
            }
            if (!currentUser.stars) {
                currentUser.stars = { total: 0, lastGainDate: null, activities: [] };
            }
            
            const statusMap = {
                'free': { text: 'Gratuit', class: 'status-free' },
                'pending': { text: 'En attente', class: 'status-pending' },
                'active': { text: 'Premium', class: 'status-active' },
                'rejected': { text: 'Rejeté', class: 'status-rejected' }
            };
            
            const status = statusMap[currentUser.subscription.status] || statusMap.free;
            const statusElement = document.getElementById('userStatus');
            statusElement.textContent = status.text;
            statusElement.className = `status-badge ${status.class}`;
            
            updateFlameDisplay();
            updateStarDisplay();
            loadEnrolledContent();
        }

        function loadEnrolledContent() {
            const container = document.getElementById('enrolledContentGrid');
            container.innerHTML = `
                <div style="grid-column: 1 / -1; text-align: center; padding: 3rem; color: var(--text-muted);">
                    <i class="fas fa-graduation-cap" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                    <p>Aucun contenu suivi pour le moment</p>
                    <button class="btn btn-primary" onclick="showSection('courses')" style="margin-top: 1rem;">
                        <i class="fas fa-search"></i> Découvrir les contenus
                    </button>
                </div>
            `;
        }

        function loadAdminData() {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const allContent = JSON.parse(localStorage.getItem('content') || '[]');
            
            document.getElementById('totalUsers').textContent = users.length;
            document.getElementById('pendingPayments').textContent = 
                users.filter(u => u.subscription.status === 'pending').length;
            document.getElementById('totalContent').textContent = allContent.length;
            
            const activeUsers = users.filter(u => u.subscription.status === 'active').length;
            document.getElementById('monthlyRevenue').textContent = (activeUsers * 5000).toLocaleString();
            
            loadUsersTable();
            loadAdminContent();
        }

        function loadUsersTable() {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const tbody = document.getElementById('usersTable');
            
            tbody.innerHTML = users.map(user => `
                <tr>
                    <td>
                        <div style="display: flex; align-items: center; gap: 1rem;">
                            <div style="width: 35px; height: 35px; border-radius: 50%; background: var(--primary); display: flex; align-items: center; justify-content: center; color: white; font-weight: bold;">
                                ${user.name.charAt(0).toUpperCase()}
                            </div>
                            <div>
                                <div style="font-weight: 600; color: var(--text-primary);">${user.name}</div>
                                <div style="font-size: 0.8rem; color: var(--text-muted);">${user.isAdmin ? 'Administrateur' : 'Utilisateur'}</div>
                            </div>
                        </div>
                    </td>
                    <td style="color: var(--text-secondary);">${user.email}</td>
                    <td>
                        <span class="status-badge status-${user.subscription.status}">
                            ${getStatusLabel(user.subscription.status)}
                        </span>
                    </td>
                    <td style="color: var(--text-muted); font-size: 0.9rem;">
                        ${new Date(user.joinedAt).toLocaleDateString()}
                    </td>
                    <td>
                        ${user.subscription.paymentProof ? 
                            `<button class="btn btn-info btn-small" onclick="viewPaymentProof(${user.id})">
                                <i class="fas fa-eye"></i> Voir
                            </button>` : 
                            '<span style="color: var(--text-muted);">-</span>'
                        }
                    </td>
                    <td>
                        <div style="display: flex; gap: 0.3rem;">
                            ${user.subscription.status === 'pending' ? 
                                `<button class="btn btn-success btn-small" onclick="approveUser(${user.id})">
                                    <i class="fas fa-check"></i>
                                </button>
                                <button class="btn btn-danger btn-small" onclick="rejectUser(${user.id})">
                                    <i class="fas fa-times"></i>
                                </button>` :
                                user.subscription.status === 'active' && !user.isAdmin ?
                                `<button class="btn btn-warning btn-small" onclick="revokeUser(${user.id})">
                                    <i class="fas fa-ban"></i>
                                </button>` :
                                '<span style="color: var(--text-muted);">-</span>'
                            }
                        </div>
                    </td>
                </tr>
            `).join('');
        }

        function loadAdminContent() {
            const allContent = JSON.parse(localStorage.getItem('content') || '[]');
            const adminContent = allContent.filter(c => c.createdBy === currentUser.email || c.createdBy === 'system');
            
            const container = document.getElementById('adminContentGrid');
            if (adminContent.length > 0) {
                container.innerHTML = adminContent.map(content => {
                    const typeIcons = {
                        course: 'fas fa-book',
                        ebook: 'fas fa-file-pdf',
                        video: 'fas fa-video',
                        document: 'fas fa-file-word'
                    };
                    
                    return `
                        <div class="content-card ${content.contentType}">
                            <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
                                <i class="${typeIcons[content.contentType]}" style="color: var(--primary);"></i>
                                <span class="status-badge type-${content.contentType}">${content.contentType.toUpperCase()}</span>
                            </div>
                            <div class="content-title">${content.title}</div>
                            <div class="content-description">${content.description}</div>
                            <div class="content-meta">
                                <span><i class="fas fa-tag"></i> ${content.category}</span>
                                <span><i class="fas fa-calendar"></i> ${new Date(content.createdAt).toLocaleDateString()}</span>
                            </div>
                            ${content.exercises ? `<div style="margin: 1rem 0; padding: 0.5rem; background: rgba(16, 185, 129, 0.1); border-radius: 8px; color: var(--success); font-size: 0.9rem;"><i class="fas fa-question-circle"></i> ${content.exercises.length} exercices inclus</div>` : ''}
                            <div style="margin-top: 1rem;">
                                <button class="btn btn-outline btn-small" onclick="editContent(${content.id})">
                                    <i class="fas fa-edit"></i> Modifier
                                </button>
                                <button class="btn btn-danger btn-small" onclick="deleteContent(${content.id})">
                                    <i class="fas fa-trash"></i> Supprimer
                                </button>
                                <button class="btn btn-info btn-small" onclick="accessContent(${content.id})">
                                    <i class="fas fa-eye"></i> Voir
                                </button>
                            </div>
                        </div>
                    `;
                }).join('');
            } else {
                container.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 3rem; color: var(--text-muted);">
                        <i class="fas fa-plus" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                        <p>Aucun contenu créé pour le moment</p>
                        <button class="btn btn-primary" onclick="document.getElementById('addContentModal').classList.add('show')" style="margin-top: 1rem;">
                            <i class="fas fa-plus"></i> Créer votre premier contenu
                        </button>
                    </div>
                `;
            }
        }

        function getStatusLabel(status) {
            const labels = {
                'active': 'Actif',
                'pending': 'En attente',
                'rejected': 'Rejeté',
                'free': 'Gratuit'
            };
            return labels[status] || 'Inconnu';
        }

        // Content Management
        function loadAllContent() {
            const allContent = JSON.parse(localStorage.getItem('content') || '[]');
            
            // Load courses
            const courses = allContent.filter(c => c.contentType === 'course');
            loadContentToGrid(courses, 'coursesGrid');
            
            // Load ebooks
            const ebooks = allContent.filter(c => c.contentType === 'ebook');
            loadContentToGrid(ebooks, 'ebooksGrid');
            
            // Load videos
            const videos = allContent.filter(c => c.contentType === 'video');
            loadContentToGrid(videos, 'videosGrid');
            
            // Load documents
            const documents = allContent.filter(c => c.contentType === 'document');
            loadContentToGrid(documents, 'documentsGrid');
        }

        function loadContentToGrid(content, gridId) {
            const container = document.getElementById(gridId);
            if (!container) return;
            
            if (content.length === 0) {
                container.innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 3rem; color: var(--text-muted);">
                        <i class="fas fa-inbox" style="font-size: 3rem; margin-bottom: 1rem; opacity: 0.5;"></i>
                        <p>Aucun contenu disponible pour le moment</p>
                    </div>
                `;
                return;
            }
            
            container.innerHTML = content.map(item => {
                const canAccess = item.price === 'free' || (currentUser && currentUser.subscription.status === 'active');
                const disabledAttr = canAccess ? '' : 'disabled';
                const buttonTitle = canAccess ? '' : 'title="Abonnement premium requis"';
                
                const typeIcons = {
                    course: 'fas fa-book',
                    ebook: 'fas fa-file-pdf',
                    video: 'fas fa-video',
                    document: 'fas fa-file-word'
                };
                
                const actionButtons = {
                    course: `<button class="btn btn-primary btn-small" ${disabledAttr} ${buttonTitle} onclick="accessContent(${item.id})">
                                <i class="fas fa-play"></i> Suivre le cours
                             </button>`,
                    ebook: `<button class="btn btn-success btn-small" ${disabledAttr} ${buttonTitle} onclick="accessContent(${item.id})">
                                <i class="fas fa-download"></i> Télécharger
                             </button>`,
                    video: `<button class="btn btn-danger btn-small" ${disabledAttr} ${buttonTitle} onclick="accessContent(${item.id})">
                                <i class="fas fa-play"></i> Regarder
                             </button>`,
                    document: `<button class="btn btn-info btn-small" ${disabledAttr} ${buttonTitle} onclick="accessContent(${item.id})">
                                  <i class="fas fa-eye"></i> Consulter
                               </button>`
                };
                
                return `
                    <div class="content-card ${item.contentType}">
                        <div style="display: flex; align-items: center; gap: 0.5rem; margin-bottom: 1rem;">
                            <i class="${typeIcons[item.contentType]}" style="color: var(--primary);"></i>
                            <span class="status-badge type-${item.contentType}">${item.contentType.toUpperCase()}</span>
                        </div>
                        <div class="content-title">${item.title}</div>
                        <div class="content-description">${item.description}</div>
                        <div class="content-meta">
                            <span><i class="fas fa-user"></i> ${item.author}</span>
                            <span><i class="fas fa-tag"></i> ${item.category}</span>
                        </div>
                        ${item.exercises && item.exercises.length > 0 ? `<div style="margin: 1rem 0; padding: 0.5rem; background: rgba(16, 185, 129, 0.1); border-radius: 8px; color: var(--success); font-size: 0.9rem;"><i class="fas fa-question-circle"></i> ${item.exercises.length} exercices inclus</div>` : ''}
                        <div style="margin-top: 1rem; display: flex; justify-content: space-between; align-items: center;">
                            <span class="status-badge ${item.price === 'free' ? 'status-free' : 'status-active'}">
                                ${item.price === 'free' ? 'Gratuit' : 'Premium'}
                            </span>
                            ${actionButtons[item.contentType]}
                        </div>
                    </div>
                `;
            }).join('');
        }

        function updateCounters() {
            const allContent = JSON.parse(localStorage.getItem('content') || '[]');
            
            document.getElementById('coursesCount').textContent = allContent.filter(c => c.contentType === 'course').length + '+';
            document.getElementById('videosCount').textContent = allContent.filter(c => c.contentType === 'video').length + '+';
            document.getElementById('documentsCount').textContent = allContent.filter(c => c.contentType === 'document').length + '+';
        }

        function filterContent(type) {
            const allContent = JSON.parse(localStorage.getItem('content') || '[]');
            const content = allContent.filter(c => c.contentType === type);
            
            let search = '';
            
            if (type === 'course') {
                search = document.getElementById('courseSearch').value.toLowerCase();
            } else if (type === 'ebook') {
                search = document.getElementById('ebookSearch').value.toLowerCase();
            } else if (type === 'video') {
                search = document.getElementById('videoSearch').value.toLowerCase();
            } else if (type === 'document') {
                search = document.getElementById('documentSearch').value.toLowerCase();
            }
            
            const filtered = content.filter(item => {
                return item.title.toLowerCase().includes(search) || 
                       item.description.toLowerCase().includes(search);
            });
            
            const gridId = type + 'sGrid';
            loadContentToGrid(filtered, gridId);
        }

        // Content Type Change Handler
        function handleContentTypeChange() {
            const type = document.getElementById('contentType').value;
            
            // Hide all specific fields
            document.getElementById('courseFields').style.display = 'none';
            document.getElementById('ebookFields').style.display = 'none';
            document.getElementById('urlFields').style.display = 'none';
            document.getElementById('exercisesSection').style.display = 'none';
            
            // Show relevant fields
            if (type === 'course') {
                document.getElementById('courseFields').style.display = 'block';
                document.getElementById('exercisesSection').style.display = 'block';
            } else if (type === 'ebook') {
                document.getElementById('ebookFields').style.display = 'block';
            } else if (type === 'video' || type === 'document') {
                document.getElementById('urlFields').style.display = 'block';
            }
        }

        // Exercise Management
        function addExerciseField() {
            const container = document.getElementById('exercisesContainer');
            const index = exercises.length;
            
            const exerciseDiv = document.createElement('div');
            exerciseDiv.className = 'exercise-item';
            exerciseDiv.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1rem;">
                    <h5 style="color: var(--text-primary);">Exercice ${index + 1}</h5>
                    <button type="button" class="btn btn-danger btn-small" onclick="removeExercise(${index})">
                        <i class="fas fa-trash"></i>
                    </button>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Question</label>
                    <input type="text" class="form-input exercise-question" placeholder="Votre question..." required>
                </div>
                
                <div class="form-group">
                    <label class="form-label">Options de réponse</label>
                    <div class="exercise-options">
                        <div class="exercise-option-input">
                            <input type="radio" name="correct_${index}" value="0">
                            <input type="text" class="form-input exercise-option" placeholder="Option 1" required>
                        </div>
                        <div class="exercise-option-input">
                            <input type="radio" name="correct_${index}" value="1">
                            <input type="text" class="form-input exercise-option" placeholder="Option 2" required>
                        </div>
                        <div class="exercise-option-input">
                            <input type="radio" name="correct_${index}" value="2">
                            <input type="text" class="form-input exercise-option" placeholder="Option 3" required>
                        </div>
                        <div class="exercise-option-input">
                            <input type="radio" name="correct_${index}" value="3">
                            <input type="text" class="form-input exercise-option" placeholder="Option 4" required>
                        </div>
                    </div>
                    <small style="color: var(--text-muted); margin-top: 0.5rem; display: block;">
                        Cochez la radio de la bonne réponse
                    </small>
                </div>
            `;
            
            container.appendChild(exerciseDiv);
            exercises.push({ index });
        }

        function removeExercise(index) {
            const exerciseElements = document.querySelectorAll('.exercise-item');
            if (exerciseElements[index]) {
                exerciseElements[index].remove();
                exercises.splice(index, 1);
                // Renumber remaining exercises
                updateExerciseNumbers();
            }
        }

        function updateExerciseNumbers() {
            const exerciseElements = document.querySelectorAll('.exercise-item');
            exerciseElements.forEach((element, index) => {
                const title = element.querySelector('h5');
                if (title) {
                    title.textContent = `Exercice ${index + 1}`;
                }
            });
        }

        // Content Management - ADMIN ONLY
        function handleAddContent(e) {
            e.preventDefault();
            
            // VÉRIFICATION ADMIN
            if (!currentUser || !currentUser.isAdmin) {
                showNotification('Seuls les administrateurs peuvent ajouter du contenu', 'error');
                return;
            }
            
            const contentType = document.getElementById('contentType').value;
            const title = document.getElementById('contentTitle').value.trim();
            const description = document.getElementById('contentDescription').value.trim();
            const category = document.getElementById('contentCategory').value;
            const price = document.getElementById('contentPrice').value;
            
            if (!contentType || !title || !description || !category || !price) {
                showNotification('Veuillez remplir tous les champs obligatoires', 'error');
                return;
            }
            
            let contentData = {
                id: Date.now(),
                title,
                description,
                contentType,
                category,
                price,
                author: currentUser.name,
                createdBy: currentUser.email,
                createdAt: new Date().toISOString()
            };
            
            // Add specific fields based on content type
            if (contentType === 'course') {
                contentData.level = document.getElementById('courseLevel').value;
                contentData.duration = document.getElementById('courseDuration').value;
                
                // Collect exercises
                const exerciseElements = document.querySelectorAll('.exercise-item');
                const exercisesData = [];
                
                exerciseElements.forEach((element, index) => {
                    const question = element.querySelector('.exercise-question').value;
                    const options = Array.from(element.querySelectorAll('.exercise-option')).map(input => input.value);
                    const correctRadio = element.querySelector(`input[name="correct_${index}"]:checked`);
                    const correctAnswer = correctRadio ? parseInt(correctRadio.value) : 0;
                    
                    if (question && options.every(opt => opt.trim())) {
                        exercisesData.push({
                            question,
                            options,
                            correctAnswer
                        });
                    }
                });
                
                contentData.exercises = exercisesData;
            } else if (contentType === 'ebook') {
                contentData.author = document.getElementById('ebookAuthor').value || currentUser.name;
                contentData.pages = parseInt(document.getElementById('ebookPages').value) || 50;
            } else if (contentType === 'video' || contentType === 'document') {
                const url = document.getElementById('contentUrl').value;
                if (!url) {
                    showNotification('URL requise pour les vidéos et documents', 'error');
                    return;
                }
                contentData.url = url;
            }
            
            showLoading();
            
            setTimeout(() => {
                const allContent = JSON.parse(localStorage.getItem('content') || '[]');
                allContent.push(contentData);
                localStorage.setItem('content', JSON.stringify(allContent));
                
                hideLoading();
                document.getElementById('addContentModal').classList.remove('show');
                document.getElementById('addContentForm').reset();
                document.getElementById('exercisesContainer').innerHTML = '';
                exercises = [];
                
                // Reset form fields visibility
                document.getElementById('courseFields').style.display = 'none';
                document.getElementById('ebookFields').style.display = 'none';
                document.getElementById('urlFields').style.display = 'none';
                document.getElementById('exercisesSection').style.display = 'none';
                
                loadAdminContent();
                loadAllContent();
                updateCounters();
                loadAdminData();
                
                showNotification(`${contentType} "${title}" créé avec succès !`, 'success');
            }, 1000);
        }

        // Content Access with Flame Consumption
        function accessContent(contentId) {
            const allContent = JSON.parse(localStorage.getItem('content') || '[]');
            const content = allContent.find(c => c.id === contentId);
            if (!content) return;

            if (content.price === 'premium') {
                if (!currentUser || currentUser.subscription.status !== 'active') {
                    showNotification('Abonnement premium requis pour accéder à ce contenu.', 'error');
                    return;
                }
                if (currentUser.flames.total <= 0) {
                    showNotification('Vous n\'avez pas assez de flammes pour accéder à ce contenu.', 'error');
                    return;
                }
                // CONSOMMER 1 FLAMME
                currentUser.flames.total -= 1;
                saveCurrentUser();
                updateFlameDisplay();
                showNotification(`1 flamme consommée pour accéder à "${content.title}"`, 'info');
                
                // Gagner une étoile automatiquement après accès premium
                setTimeout(() => gainStarDaily(), 500);
            }

            // Afficher le contenu selon son type
            if (content.contentType === 'course') {
                showCourseViewer(content);
            } else if (content.contentType === 'video') {
                showVideoViewer(content);
            } else if (content.contentType === 'document') {
                showDocumentViewer(content);
            } else if (content.contentType === 'ebook') {
                showEbookViewer(content);
            }
        }

        function showCourseViewer(course) {
            currentContentId = course.id;
            const content = document.getElementById('contentViewerContent');
            
            content.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                    <button class="btn btn-outline" onclick="goBackFromContent()">
                        <i class="fas fa-arrow-left"></i> Retour
                    </button>
                    ${course.exercises && course.exercises.length > 0 ? `
                        <button class="btn btn-primary" onclick="startQuiz(${course.id})">
                            <i class="fas fa-question-circle"></i> Faire le quiz (${course.exercises.length} questions)
                        </button>
                    ` : ''}
                </div>
                
                <div class="content-viewer">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 2rem;">
                        <i class="fas fa-book" style="font-size: 2rem; color: var(--primary);"></i>
                        <div>
                            <h1 style="color: var(--text-primary); margin-bottom: 0.5rem;">${course.title}</h1>
                            <div style="display: flex; gap: 1rem; align-items: center;">
                                <span class="status-badge type-course">COURS</span>
                                <span style="color: var(--text-secondary);">Niveau: ${course.level}</span>
                                <span style="color: var(--text-secondary);">Durée: ${course.duration}</span>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: var(--bg-secondary); border-radius: 12px; padding: 2rem; margin-bottom: 2rem;">
                        <h3 style="color: var(--text-primary); margin-bottom: 1rem;">Description du cours</h3>
                        <p style="color: var(--text-secondary); line-height: 1.8;">${course.description}</p>
                    </div>
                    
                    ${course.exercises && course.exercises.length > 0 ? `
                        <div style="background: rgba(16, 185, 129, 0.1); border: 1px solid var(--success); border-radius: 12px; padding: 2rem;">
                            <h3 style="color: var(--success); margin-bottom: 1rem;">
                                <i class="fas fa-trophy"></i> Quiz disponible
                            </h3>
                            <p style="color: var(--text-secondary); margin-bottom: 1rem;">
                                Ce cours contient ${course.exercises.length} exercices pour tester vos connaissances.
                                Réussissez le quiz pour gagner des étoiles bonus !
                            </p>
                            <button class="btn btn-success" onclick="startQuiz(${course.id})">
                                <i class="fas fa-play"></i> Commencer le quiz
                            </button>
                        </div>
                    ` : ''}
                </div>
            `;
            
            showSection('contentViewer');
            showNotification(`Accès au cours : ${course.title}`, 'success');
        }

        function showVideoViewer(video) {
            const content = document.getElementById('contentViewerContent');
            
            content.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                    <button class="btn btn-outline" onclick="goBackFromContent()">
                        <i class="fas fa-arrow-left"></i> Retour
                    </button>
                    <div style="color: var(--text-secondary);">
                        <i class="fas fa-info-circle"></i> Vidéo non téléchargeable
                    </div>
                </div>
                
                <div class="content-viewer">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 2rem;">
                        <i class="fas fa-video" style="font-size: 2rem; color: var(--danger);"></i>
                        <div>
                            <h1 style="color: var(--text-primary); margin-bottom: 0.5rem;">${video.title}</h1>
                            <span class="status-badge type-video">VIDÉO</span>
                        </div>
                    </div>
                    
                    <div class="video-container">
                        <iframe src="${video.url}" frameborder="0" allowfullscreen></iframe>
                    </div>
                    
                    <div style="background: var(--bg-secondary); border-radius: 12px; padding: 2rem;">
                        <h3 style="color: var(--text-primary); margin-bottom: 1rem;">Description</h3>
                        <p style="color: var(--text-secondary); line-height: 1.8;">${video.description}</p>
                    </div>
                </div>
            `;
            
            showSection('contentViewer');
            showNotification(`Lecture de la vidéo : ${video.title}`, 'success');
        }

        function showDocumentViewer(document) {
            const content = document.getElementById('contentViewerContent');
            
            // Convert regular Google Drive links to embed format
            let embedUrl = document.url;
            if (embedUrl.includes('docs.google.com') && !embedUrl.includes('/preview')) {
                embedUrl = embedUrl.replace('/edit', '/preview');
            }
            
            content.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                    <button class="btn btn-outline" onclick="goBackFromContent()">
                        <i class="fas fa-arrow-left"></i> Retour
                    </button>
                    <div style="color: var(--text-secondary);">
                        <i class="fas fa-lock"></i> Document non téléchargeable
                    </div>
                </div>
                
                <div class="content-viewer">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 2rem;">
                        <i class="fas fa-file-word" style="font-size: 2rem; color: var(--info);"></i>
                        <div>
                            <h1 style="color: var(--text-primary); margin-bottom: 0.5rem;">${document.title}</h1>
                            <span class="status-badge type-document">DOCUMENT</span>
                        </div>
                    </div>
                    
                    <div class="document-container">
                        <iframe src="${embedUrl}" frameborder="0"></iframe>
                    </div>
                    
                    <div style="background: var(--bg-secondary); border-radius: 12px; padding: 2rem;">
                        <h3 style="color: var(--text-primary); margin-bottom: 1rem;">Description</h3>
                        <p style="color: var(--text-secondary); line-height: 1.8;">${document.description}</p>
                    </div>
                </div>
            `;
            
            showSection('contentViewer');
            showNotification(`Consultation du document : ${document.title}`, 'success');
        }

        function showEbookViewer(ebook) {
            const content = document.getElementById('contentViewerContent');
            
            content.innerHTML = `
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
                    <button class="btn btn-outline" onclick="goBackFromContent()">
                        <i class="fas fa-arrow-left"></i> Retour
                    </button>
                    <button class="btn btn-success" onclick="downloadEbookFile(${ebook.id})">
                        <i class="fas fa-download"></i> Télécharger PDF
                    </button>
                </div>
                
                <div class="content-viewer">
                    <div style="display: flex; align-items: center; gap: 1rem; margin-bottom: 2rem;">
                        <i class="fas fa-file-pdf" style="font-size: 2rem; color: var(--success);"></i>
                        <div>
                            <h1 style="color: var(--text-primary); margin-bottom: 0.5rem;">${ebook.title}</h1>
                            <div style="display: flex; gap: 1rem; align-items: center;">
                                <span class="status-badge type-ebook">EBOOK</span>
                                <span style="color: var(--text-secondary);">Par ${ebook.author}</span>
                                <span style="color: var(--text-secondary);">${ebook.pages} pages</span>
                            </div>
                        </div>
                    </div>
                    
                    <div style="background: var(--bg-secondary); border-radius: 12px; padding: 2rem;">
                        <h3 style="color: var(--text-primary); margin-bottom: 1rem;">Description</h3>
                        <p style="color: var(--text-secondary); line-height: 1.8;">${ebook.description}</p>
                    </div>
                </div>
            `;
            
            showSection('contentViewer');
            showNotification(`Aperçu de l'ebook : ${ebook.title}`, 'success');
        }

        function downloadEbookFile(ebookId) {
            showNotification('Téléchargement de l\'ebook simulé (fichier PDF)', 'success');
        }

        function goBackFromContent() {
            // Retourner à la section appropriée selon le type de contenu
            const allContent = JSON.parse(localStorage.getItem('content') || '[]');
            const content = allContent.find(c => c.id === currentContentId);
            
            if (content) {
                if (content.contentType === 'course') {
                    showSection('courses');
                } else if (content.contentType === 'ebook') {
                    showSection('ebooks');
                } else if (content.contentType === 'video') {
                    showSection('videos');
                } else if (content.contentType === 'document') {
                    showSection('documents');
                }
            } else {
                showSection('home');
            }
        }

        // Quiz System (style Mimo)
        function startQuiz(contentId) {
            const allContent = JSON.parse(localStorage.getItem('content') || '[]');
            const content = allContent.find(c => c.id === contentId);
            
            if (!content || !content.exercises || content.exercises.length === 0) {
                showNotification('Aucun quiz disponible pour ce contenu', 'warning');
                return;
            }
            
            currentContentId = contentId;
            quizAnswers = {};
            document.getElementById('quizTitle').textContent = content.title;
            
            const quizContent = document.getElementById('quizContent');
            quizContent.innerHTML = content.exercises.map((exercise, index) => `
                <div class="question" id="question_${index}">
                    <div class="question-text">
                        <span style="color: var(--primary); font-weight: bold;">Question ${index + 1}:</span>
                        ${exercise.question}
                    </div>
                    <div class="options">
                        ${exercise.options.map((option, optIndex) => `
                            <div class="option" onclick="selectOption(${index}, ${optIndex})">
                                <div style="width: 24px; height: 24px; border: 2px solid var(--border); border-radius: 50%; display: flex; align-items: center; justify-content: center;">
                                    <div class="option-indicator" style="width: 12px; height: 12px; background: var(--primary); border-radius: 50%; opacity: 0; transition: opacity 0.3s;"></div>
                                </div>
                                <span>${option}</span>
                            </div>
                        `).join('')}
                    </div>
                </div>
            `).join('');
            
            document.getElementById('submitQuizBtn').style.display = 'block';
            document.getElementById('submitQuizBtn').onclick = () => submitQuiz(content);
            
            showSection('quiz');
        }

        function selectOption(questionIndex, optionIndex) {
            // Clear all selections for this question
            const question = document.getElementById(`question_${questionIndex}`);
            const options = question.querySelectorAll('.option');
            const indicators = question.querySelectorAll('.option-indicator');
            
            options.forEach(opt => opt.classList.remove('selected'));
            indicators.forEach(ind => ind.style.opacity = '0');
            
            // Select the clicked option
            options[optionIndex].classList.add('selected');
            indicators[optionIndex].style.opacity = '1';
            
            // Store the answer
            quizAnswers[questionIndex] = optionIndex;
        }

        function submitQuiz(content) {
            let score = 0;
            let totalQuestions = content.exercises.length;
            
            content.exercises.forEach((exercise, index) => {
                const userAnswer = quizAnswers[index];
                const correctAnswer = exercise.correctAnswer;
                const question = document.getElementById(`question_${index}`);
                const options = question.querySelectorAll('.option');
                
                if (userAnswer !== undefined) {
                    if (userAnswer === correctAnswer) {
                        options[userAnswer].classList.add('correct');
                        score++;
                    } else {
                        options[userAnswer].classList.add('incorrect');
                        options[correctAnswer].classList.add('correct');
                    }
                } else {
                    // Show correct answer if no selection
                    options[correctAnswer].classList.add('correct');
                }
            });
            
            const percentage = Math.round((score / totalQuestions) * 100);
            
            // Update user progress
            if (!currentUser.progress) currentUser.progress = {};
            currentUser.progress[content.id] = percentage;
            saveCurrentUser();
            
            // Show results
            setTimeout(() => {
                const resultHtml = `
                    <div style="text-align: center; padding: 3rem; background: var(--glass-bg); border-radius: 16px; margin-top: 2rem;">
                        <div style="font-size: 4rem; margin-bottom: 1rem;">
                            ${percentage >= 80 ? '🏆' : percentage >= 60 ? '👍' : '📚'}
                        </div>
                        <h2 style="color: var(--text-primary); margin-bottom: 1rem;">Quiz terminé !</h2>
                        <div style="font-size: 3rem; font-weight: 800; color: ${percentage >= 80 ? 'var(--success)' : percentage >= 60 ? 'var(--warning)' : 'var(--danger)'}; margin-bottom: 1rem;">
                            ${percentage}%
                        </div>
                        <p style="color: var(--text-secondary); margin-bottom: 2rem;">
                            Vous avez obtenu ${score} bonnes réponses sur ${totalQuestions}
                        </p>
                        ${percentage >= 80 ? `
                            <div style="background: rgba(16, 185, 129, 0.1); border: 1px solid var(--success); border-radius: 8px; padding: 1rem; margin-bottom: 2rem;">
                                <p style="color: var(--success); margin: 0;">
                                    <i class="fas fa-star"></i> Excellent ! Vous avez gagné 3 étoiles bonus !
                                </p>
                            </div>
                        ` : ''}
                        <div style="display: flex; gap: 1rem; justify-content: center;">
                            <button class="btn btn-outline" onclick="goBackFromQuiz()">
                                <i class="fas fa-arrow-left"></i> Retour au cours
                            </button>
                            <button class="btn btn-primary" onclick="startQuiz(${content.id})">
                                <i class="fas fa-redo"></i> Recommencer
                            </button>
                        </div>
                    </div>
                `;
                
                document.getElementById('quizContent').innerHTML = resultHtml;
                document.getElementById('submitQuizBtn').style.display = 'none';
                
                // Gain d'étoiles selon le score
                if (percentage >= 80) {
                    gainStars(3, 'Quiz excellent (80%+)');
                } else if (percentage >= 60) {
                    gainStars(1, 'Quiz réussi (60%+)');
                }
                
                showNotification(`Quiz terminé avec ${percentage}% !`, percentage >= 60 ? 'success' : 'warning');
            }, 2000);
        }

        function goBackFromQuiz() {
            const allContent = JSON.parse(localStorage.getItem('content') || '[]');
            const content = allContent.find(c => c.id === currentContentId);
            
            if (content) {
                showCourseViewer(content);
            } else {
                showSection('courses');
            }
        }

        // Admin Management
        function showAdminManagement() {
            loadAdminsList();
            document.getElementById('adminModal').classList.add('show');
        }

        function handleAddAdmin(e) {
            e.preventDefault();
            
            const email = document.getElementById('adminEmail').value.trim().toLowerCase();
            
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const userIndex = users.findIndex(u => u.email === email);
            
            if (userIndex === -1) {
                showNotification('Utilisateur introuvable avec cet email', 'error');
                return;
            }
            
            if (users[userIndex].isAdmin) {
                showNotification('Cet utilisateur est déjà administrateur', 'warning');
                return;
            }
            
            showLoading();
            
            setTimeout(() => {
                users[userIndex].isAdmin = true;
                localStorage.setItem('users', JSON.stringify(users));
                
                hideLoading();
                loadAdminsList();
                document.getElementById('adminEmail').value = '';
                showNotification(`${users[userIndex].name} est maintenant administrateur`, 'success');
            }, 500);
        }

        function loadAdminsList() {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const admins = users.filter(u => u.isAdmin);
            
            const container = document.getElementById('adminsList');
            container.innerHTML = admins.map(admin => `
                <div style="display: flex; align-items: center; justify-content: space-between; padding: 1rem; background: var(--bg-tertiary); border-radius: 8px; margin-bottom: 0.5rem;">
                    <div>
                        <div style="font-weight: 600; color: var(--text-primary);">${admin.name}</div>
                        <div style="color: var(--text-secondary); font-size: 0.9rem;">${admin.email}</div>
                    </div>
                    ${admin.email !== ADMIN_EMAIL ? `
                        <button class="btn btn-danger btn-small" onclick="removeAdmin('${admin.email}')">
                            <i class="fas fa-user-minus"></i> Retirer
                        </button>
                    ` : `
                        <span style="color: var(--warning); font-size: 0.8rem;">Super Admin</span>
                    `}
                </div>
            `).join('');
        }

        function removeAdmin(email) {
            if (email === ADMIN_EMAIL) {
                showNotification('Impossible de retirer le super administrateur', 'error');
                return;
            }
            
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const userIndex = users.findIndex(u => u.email === email);
            
            if (userIndex !== -1) {
                users[userIndex].isAdmin = false;
                localStorage.setItem('users', JSON.stringify(users));
                loadAdminsList();
                showNotification('Administrateur retiré avec succès', 'info');
            }
        }

        // Payment Functions
        function showPaymentForm() {
            if (!currentUser) {
                showNotification('Veuillez vous connecter pour vous abonner', 'error');
                showSection('login');
                return;
            }
            
            if (currentUser.subscription.status === 'active') {
                showNotification('Vous avez déjà un abonnement actif', 'success');
                return;
            }
            
            showSection('payment');
        }

        function handlePaymentSubmission(e) {
            e.preventDefault();
            
            const waveNumber = document.getElementById('waveNumber').value;
            const paymentProof = document.getElementById('paymentProof').files[0];
            const comment = document.getElementById('paymentComment').value;
            
            if (!paymentProof) {
                showNotification('Veuillez sélectionner une capture d\'écran', 'error');
                return;
            }
            
            showLoading();
            
            const reader = new FileReader();
            reader.onload = function(e) {
                setTimeout(() => {
                    const base64Image = e.target.result;
                    
                    currentUser.subscription = {
                        status: 'pending',
                        paymentProof: base64Image,
                        paymentPhone: waveNumber,
                        comment: comment,
                        submittedAt: new Date().toISOString()
                    };
                    
                    const users = JSON.parse(localStorage.getItem('users') || '[]');
                    const userIndex = users.findIndex(u => u.id === currentUser.id);
                    if (userIndex !== -1) {
                        users[userIndex] = currentUser;
                        localStorage.setItem('users', JSON.stringify(users));
                        localStorage.setItem('currentUser', JSON.stringify(currentUser));
                    }
                    
                    hideLoading();
                    showNotification('Paiement soumis ! Vérification sous 24h.', 'success');
                    document.getElementById('paymentForm').reset();
                    showSection('userDashboard');
                    loadUserDashboard();
                }, 1500);
            };
            
            reader.readAsDataURL(paymentProof);
        }

        // Admin Payment Management
        function viewPaymentProof(userId) {
            const users = JSON.parse(localStorage.getItem('users') || '[]');
            const user = users.find(u => u.id === userId);
            
            if (user && user.subscription.paymentProof) {
                currentPaymentUserId = userId;
                document.getElementById('paymentProofImage').src = user.subscription.paymentProof;
                
                document.getElementById('paymentDetails').innerHTML = `
                    <div><strong>Utilisateur :</strong> ${user.name}</div>
                    <div><strong>Email :</strong> ${user.email}</div>
                    <div><strong>Numéro Wave :</strong> ${user.subscription.paymentPhone}</div>
                    <div><strong>Date :</strong> ${new Date(user.subscription.submittedAt).toLocaleString()}</div>
                    ${user.subscription.comment ? `<div><strong>Commentaire :</strong> ${user.subscription.comment}</div>` : ''}
                `;
                
                document.getElementById('paymentModal').classList.add('show');
                
                // Add event listeners for approve/reject buttons
                document.getElementById('approvePaymentBtn').onclick = () => {
                    approveUser(currentPaymentUserId);
                    document.getElementById('paymentModal').classList.remove('show');
                };
                
                document.getElementById('rejectPaymentBtn').onclick = () => {
                    rejectUser(currentPaymentUserId);
                    document.getElementById('paymentModal').classList.remove('show');
                };
            }
        }

        function approveUser(userId) {
            showLoading();
            
            setTimeout(() => {
                const users = JSON.parse(localStorage.getItem('users') || '[]');
                const userIndex = users.findIndex(u => u.id === userId);
                
                if (userIndex !== -1) {
                    users[userIndex].subscription.status = 'active';
                    users[userIndex].subscription.approvedAt = new Date().toISOString();
                    localStorage.setItem('users', JSON.stringify(users));
                    
                    hideLoading();
                    showNotification(`Abonnement approuvé pour ${users[userIndex].name}`, 'success');
                    loadAdminData();
                }
            }, 500);
        }

        function rejectUser(userId) {
            showLoading();
            
            setTimeout(() => {
                const users = JSON.parse(localStorage.getItem('users') || '[]');
                const userIndex = users.findIndex(u => u.id === userId);
                
                if (userIndex !== -1) {
                    users[userIndex].subscription.status = 'rejected';
                    users[userIndex].subscription.rejectedAt = new Date().toISOString();
                    localStorage.setItem('users', JSON.stringify(users));
                    
                    hideLoading();
                    showNotification(`Paiement rejeté pour ${users[userIndex].name}`, 'error');
                    loadAdminData();
                }
            }, 500);
        }

        function revokeUser(userId) {
            showLoading();
            
            setTimeout(() => {
                const users = JSON.parse(localStorage.getItem('users') || '[]');
                const userIndex = users.findIndex(u => u.id === userId);
                
                if (userIndex !== -1) {
                    users[userIndex].subscription.status = 'free';
                    users[userIndex].subscription.revokedAt = new Date().toISOString();
                    localStorage.setItem('users', JSON.stringify(users));
                    
                    hideLoading();
                    showNotification(`Abonnement révoqué pour ${users[userIndex].name}`, 'warning');
                    loadAdminData();
                }
            }, 500);
        }

        // Content Management Functions
        function deleteContent(contentId) {
            // VÉRIFICATION ADMIN
            if (!currentUser || !currentUser.isAdmin) {
                showNotification('Seuls les administrateurs peuvent supprimer du contenu', 'error');
                return;
            }
            
            if (confirm('Êtes-vous sûr de vouloir supprimer ce contenu ?')) {
                const allContent = JSON.parse(localStorage.getItem('content') || '[]');
                const filteredContent = allContent.filter(c => c.id !== contentId);
                localStorage.setItem('content', JSON.stringify(filteredContent));
                loadAdminContent();
                loadAllContent();
                updateCounters();
                loadAdminData();
                showNotification('Contenu supprimé avec succès', 'info');
            }
        }

        function editContent(contentId) {
            showNotification('Fonctionnalité de modification en cours de développement', 'info');
        }

        // Système de flammes et étoiles avec limite quotidienne
        function gainFlameDaily() {
            if (!currentUser) return;
            
            const today = new Date().toDateString();
            if (currentUser.flames.lastGainDate === today) {
                showNotification('Vous avez déjà gagné votre flamme aujourd\'hui ! Revenez demain 🔥', 'warning');
                return;
            }
            
            currentUser.flames.total += 1;
            currentUser.flames.lastGainDate = today;
            currentUser.flames.dailyStreak += 1;
            currentUser.flames.activities.push({
                amount: 1,
                reason: 'Gain quotidien',
                date: new Date().toISOString()
            });
            
            saveCurrentUser();
            updateFlameDisplay();
            showGainAnimation('flame', 1);
            showNotification('Vous avez gagné 1 flamme aujourd\'hui ! 🔥', 'success');
        }

        function gainStarDaily() {
            if (!currentUser) return;
            
            const today = new Date().toDateString();
            if (currentUser.stars.lastGainDate === today) {
                showNotification('Vous avez déjà gagné votre étoile aujourd\'hui ! Revenez demain ⭐', 'warning');
                return;
            }
            
            currentUser.stars.total += 1;
            currentUser.stars.lastGainDate = today;
            currentUser.stars.activities.push({
                amount: 1,
                reason: 'Gain quotidien',
                date: new Date().toISOString()
            });
            
            saveCurrentUser();
            updateStarDisplay();
            showGainAnimation('star', 1);
            showNotification('Vous avez gagné 1 étoile aujourd\'hui ! ⭐', 'success');
        }

        function gainStars(amount, reason) {
            if (!currentUser) return;
            
            currentUser.stars.total += amount;
            currentUser.stars.activities.push({
                amount,
                reason,
                date: new Date().toISOString()
            });
            
            saveCurrentUser();
            updateStarDisplay();
            showGainAnimation('star', amount);
        }

        function updateFlameDisplay() {
            if (!currentUser) return;
            
            const flameElement = document.getElementById('userFlames');
            if (flameElement) {
                flameElement.textContent = currentUser.flames.total;
            }
            
            const streakElement = document.getElementById('dailyStreak');
            if (streakElement) {
                streakElement.textContent = currentUser.flames.dailyStreak;
            }
        }

        function updateStarDisplay() {
            if (!currentUser) return;
            
            const starElement = document.getElementById('userStars');
            if (starElement) {
                starElement.textContent = currentUser.stars.total;
            }
        }

        function updateFlameCounter() {
            // Retirer le compteur existant
            const existingCounter = document.getElementById('flameCounter');
            if (existingCounter) {
                existingCounter.remove();
            }
            
            // Afficher le compteur seulement sur le dashboard utilisateur
            if (currentSection === 'userDashboard' && currentUser) {
                const flameCounter = document.createElement('div');
                flameCounter.id = 'flameCounter';
                flameCounter.className = 'flame-counter';
                flameCounter.innerHTML = `🔥 ${currentUser.flames.total} | ⭐ ${currentUser.stars.total}`;
                document.body.appendChild(flameCounter);
            }
        }

        function showGainAnimation(type, amount) {
            const element = document.createElement('div');
            element.className = type === 'flame' ? 'flame-gain' : 'star-gain';
            element.innerHTML = type === 'flame' ? `+${amount} 🔥` : `+${amount} ⭐`;
            document.body.appendChild(element);
            
            setTimeout(() => {
                if (document.body.contains(element)) {
                    document.body.removeChild(element);
                }
            }, 2000);
        }

        function saveCurrentUser() {
            if (currentUser) {
                localStorage.setItem('currentUser', JSON.stringify(currentUser));
                const users = JSON.parse(localStorage.getItem('users') || '[]');
                const userIndex = users.findIndex(u => u.id === currentUser.id);
                if (userIndex !== -1) {
                    users[userIndex] = currentUser;
                    localStorage.setItem('users', JSON.stringify(users));
                }
            }
        }

        // Système de chatbot
        function sendChatMessage() {
            const input = document.getElementById('chatInput');
            const message = input.value.trim();
            
            if (!message) return;
            
            const chatMessages = document.getElementById('chatMessages');
            
            // Message utilisateur
            const userMessage = document.createElement('div');
            userMessage.className = 'user-message';
            userMessage.innerHTML = `
                <div>
                    <div style="font-weight: 600; margin-bottom: 0.5rem;">
                        ${currentUser.name}
                    </div>
                    <p style="margin: 0;">${message}</p>
                </div>
            `;
            chatMessages.appendChild(userMessage);
            
            input.value = '';
            
            // Réponse du bot après un délai
            setTimeout(() => {
                const botResponse = getBotResponse(message);
                const botMessage = document.createElement('div');
                botMessage.className = 'bot-message';
                botMessage.innerHTML = `
                    <div>
                        <div style="font-weight: 600; color: var(--primary); margin-bottom: 0.5rem;">
                            🤖 Assistant CodeMaster
                        </div>
                        <p style="color: var(--text-primary); margin: 0;">${botResponse}</p>
                    </div>
                `;
                chatMessages.appendChild(botMessage);
                
                // Scroll vers le bas
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1000);
            
            // Scroll vers le bas
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        function sendQuickMessage(message) {
            document.getElementById('chatInput').value = message;
            sendChatMessage();
        }

        function getBotResponse(message) {
            const responses = {
                flammes: "🔥 Tu gagnes 1 flamme par jour max avec le bouton 'Gagner ma flamme du jour'. Tu en consommes 1 pour accéder aux cours/ebooks premium. Plus tu es régulier, plus ta série s'allonge !",
                cours: "📚 Les cours gratuits sont accessibles à tous. Pour les cours premium, il faut un abonnement actif ET des flammes à consommer. Je recommande Python pour débuter !",
                etoiles: "⭐ Tu gagnes 1 étoile par jour max avec le bouton dédié, ou automatiquement quand tu accèdes à du contenu premium. Collectionne-les !",
                certificat: "🏆 Pour obtenir un certificat, tu dois compléter 100% d'un cours et réussir le quiz final avec au moins 80%. Tes certificats apparaîtront dans ton dashboard !",
                aide: "💡 Je peux t'aider avec tes questions sur les cours, flammes, étoiles, certifications, ou te mettre en contact avec l'équipe. Que veux-tu savoir ?",
                premium: "⭐ Avec Premium, tu débloques tous les cours et ebooks, mais tu dois toujours consommer des flammes pour y accéder. C'est pour t'encourager à être régulier !",
                contact: "📞 Tu peux contacter directement l'équipe via le bouton 'Contacter Admin' ou par email : paulkouame973@gmail.com",
                default: "🤔 Hmm, je ne suis pas sûr de comprendre. Tu peux reformuler ta question ou utiliser le bouton 'Contacter Admin' pour parler à un humain !"
            };
            
            const lowerMessage = message.toLowerCase();
            
            if (lowerMessage.includes('flamme') || lowerMessage.includes('flame') || lowerMessage.includes('🔥')) {
                return responses.flammes;
            } else if (lowerMessage.includes('etoile') || lowerMessage.includes('star') || lowerMessage.includes('⭐')) {
                return responses.etoiles;
            } else if (lowerMessage.includes('cours') || lowerMessage.includes('recommand') || lowerMessage.includes('apprendre')) {
                return responses.cours;
            } else if (lowerMessage.includes('certificat') || lowerMessage.includes('diplome')) {
                return responses.certificat;
            } else if (lowerMessage.includes('aide') || lowerMessage.includes('help') || lowerMessage.includes('comment')) {
                return responses.aide;
            } else if (lowerMessage.includes('premium') || lowerMessage.includes('abonnement') || lowerMessage.includes('prix')) {
                return responses.premium;
            } else if (lowerMessage.includes('contact') || lowerMessage.includes('équipe') || lowerMessage.includes('admin')) {
                return responses.contact;
            } else {
                return responses.default;
            }
        }

        function clearChat() {
            const chatMessages = document.getElementById('chatMessages');
            chatMessages.innerHTML = `
                <div class="bot-message">
                    <div style="background: rgba(99, 102, 241, 0.1); border-radius: 12px; padding: 1rem; max-width: 80%;">
                        <div style="font-weight: 600; color: var(--primary); margin-bottom: 0.5rem;">
                            🤖 Assistant CodeMaster
                        </div>
                        <p style="color: var(--text-primary); margin: 0;">
                            Chat effacé ! Comment puis-je t'aider aujourd'hui ?
                        </p>
                    </div>
                </div>
            `;
        }

        function contactAdmin() {
            const chatMessages = document.getElementById('chatMessages');
            
            // Message utilisateur
            const userMessage = document.createElement('div');
            userMessage.className = 'user-message';
            userMessage.innerHTML = `
                <div>
                    <div style="font-weight: 600; margin-bottom: 0.5rem;">
                        ${currentUser.name}
                    </div>
                    <p style="margin: 0;">🚨 Demande de contact avec l'équipe admin</p>
                </div>
            `;
            chatMessages.appendChild(userMessage);
            
            // Réponse spéciale
            setTimeout(() => {
                const botMessage = document.createElement('div');
                botMessage.className = 'bot-message';
                botMessage.innerHTML = `
                    <div class="contact-admin-message">
                        <div style="font-weight: 600; margin-bottom: 0.5rem;">
                            👨‍💼 Équipe CodeMaster
                        </div>
                        <p style="margin: 0;">
                            📧 Signal envoyé à l'équipe ! Un administrateur va vous contacter sous peu. 
                            Vous pouvez aussi nous écrire directement : <strong>paulkouame973@gmail.com</strong>
                        </p>
                    </div>
                `;
                chatMessages.appendChild(botMessage);
                chatMessages.scrollTop = chatMessages.scrollHeight;
                
                // Notification admin (simulation)
                showNotification(`${currentUser.name} demande à être contacté !`, 'warning');
            }, 1000);
            
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // Utility Functions
        function showNotification(message, type = 'success') {
            const notification = document.getElementById('notification');
            const icon = document.getElementById('notificationIcon');
            const text = document.getElementById('notificationText');
            
            notification.className = `notification notification-${type}`;
            
            const icons = {
                success: 'fas fa-check-circle',
                error: 'fas fa-exclamation-circle',
                warning: 'fas fa-exclamation-triangle',
                info: 'fas fa-info-circle'
            };
            
            icon.className = icons[type] || icons.info;
            text.textContent = message;
            notification.classList.add('show');
            
            setTimeout(() => {
                notification.classList.remove('show');
            }, 5000);
        }

        function closeNotification() {
            document.getElementById('notification').classList.remove('show');
        }

        function showLoading() {
            document.getElementById('loading').classList.add('show');
        }

        function hideLoading() {
            document.getElementById('loading').classList.remove('show');
        }

        // Global exposure for onclick handlers
        window.showSection = showSection;
        window.showPaymentForm = showPaymentForm;
        window.logout = logout;
        window.viewPaymentProof = viewPaymentProof;
        window.approveUser = approveUser;
        window.rejectUser = rejectUser;
        window.revokeUser = revokeUser;
        window.deleteContent = deleteContent;
        window.editContent = editContent;
        window.removeAdmin = removeAdmin;
        window.showAdminManagement = showAdminManagement;
        window.closeNotification = closeNotification;
        window.accessContent = accessContent;
        window.sendQuickMessage = sendQuickMessage;
        window.contactAdmin = contactAdmin;
        window.clearChat = clearChat;
        window.gainFlameDaily = gainFlameDaily;
        window.gainStarDaily = gainStarDaily;
        window.goBackFromContent = goBackFromContent;
        window.goBackFromQuiz = goBackFromQuiz;
        window.startQuiz = startQuiz;
        window.selectOption = selectOption;
        window.removeExercise = removeExercise;
        window.downloadEbookFile = downloadEbookFile;
    </script>
</body>
</html>
